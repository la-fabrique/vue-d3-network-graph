(function(S,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("vue"),require("@vueuse/core")):typeof define=="function"&&define.amd?define(["exports","vue","@vueuse/core"],l):(S=typeof globalThis<"u"?globalThis:S||self,l(S["vue-d3-network-graph"]={},S.Vue,S.VueUseCore))})(this,function(S,l,G){"use strict";function St(t,n){const e=l.ref(void 0),r=l.reactive({x:0,y:0}),s=u=>{let x,p=0;return u instanceof MouseEvent?(x=u.clientX,p=u.clientY):u instanceof TouchEvent&&(x=u.touches[0].clientX,p=u.touches[0].clientY),{x:x||0,y:p||0}},i=(u,x)=>l.toValue(n)?(()=>{e.value=x,a(u,t.value.nodes()[x])})():void 0,a=(u,x)=>{let p=0,h=0;if(u&&x&&(x!=null&&x.x)&&(x!=null&&x.y)){const m=s(u);p=m.x?m.x-x.x:x.x,h=m.y?m.y-x.y:x.y}r.x=p,r.y=h},o=()=>{if(e.value!==void 0){const u=t.value.nodes()[e.value];u.fx=null,u.fy=null,c()}},c=()=>{e.value=void 0,t.value.alpha(.1),t.value.restart(),a()};return{dragStart:i,dragEnd:o,move:u=>{const x=s(u);e.value!=null&&t.value.nodes()[e.value]&&(t.value.restart(),t.value.alpha(.5),t.value.nodes()[e.value].fx=x.x-r.x,t.value.nodes()[e.value].fy=x.y-r.y)}}}function Pt(t){const n=o=>o.size||t.value.size,e=o=>o.width||t.value.size,r=o=>o.height||o.size||t.value.size,s=o=>o.color?"fill: "+o.color:"",i=(o,c=[])=>{const d=o.cssClass?o.cssClass:[];return d.push("node"),c.forEach(u=>d.push(u)),(o.fx||o.fy)&&d.push("pinned"),d};return{label:l.computed(()=>({font:{size:t.value.font.size},offset:{x:t.value.size/2+t.value.font.size/2,y:t.value.font.size/2}})),getSize:n,getWidth:e,getHeight:r,getStyle:s,getClass:i}}function Ft(t){return{getPath:i=>{var a,o,c,d;if(typeof i.source!="number"&&typeof i.source!="string"&&typeof i.target!="number"&&typeof i.target!="string"){const u={M:[((a=i==null?void 0:i.source)==null?void 0:a.x)||0,((o=i==null?void 0:i.source)==null?void 0:o.y)||0],X:[((c=i==null?void 0:i.target)==null?void 0:c.x)||0,((d=i==null?void 0:i.target)==null?void 0:d.y)||0]};return"M "+u.M.join(" ")+" L"+u.X.join(" ")}},getAttrs:i=>({"stroke-width":t.value.width}),getClass:i=>["link"],getStyle:i=>i.color?{stroke:i.color}:{}}}function Lt(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return $(this.cover(n,e),n,e,t)}function $(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var s,i=t._root,a={data:r},o=t._x0,c=t._y0,d=t._x1,u=t._y1,x,p,h,m,g,f,y,w;if(!i)return t._root=a,t;for(;i.length;)if((g=n>=(x=(o+d)/2))?o=x:d=x,(f=e>=(p=(c+u)/2))?c=p:u=p,s=i,!(i=i[y=f<<1|g]))return s[y]=a,t;if(h=+t._x.call(null,i.data),m=+t._y.call(null,i.data),n===h&&e===m)return a.next=i,s?s[y]=a:t._root=a,t;do s=s?s[y]=new Array(4):t._root=new Array(4),(g=n>=(x=(o+d)/2))?o=x:d=x,(f=e>=(p=(c+u)/2))?c=p:u=p;while((y=f<<1|g)===(w=(m>=p)<<1|h>=x));return s[w]=i,s[y]=a,t}function Ot(t){var n,e,r=t.length,s,i,a=new Array(r),o=new Array(r),c=1/0,d=1/0,u=-1/0,x=-1/0;for(e=0;e<r;++e)isNaN(s=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=s,o[e]=i,s<c&&(c=s),s>u&&(u=s),i<d&&(d=i),i>x&&(x=i));if(c>u||d>x)return this;for(this.cover(c,d).cover(u,x),e=0;e<r;++e)$(this,a[e],o[e],t[e]);return this}function It(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,s=this._x1,i=this._y1;if(isNaN(e))s=(e=Math.floor(t))+1,i=(r=Math.floor(n))+1;else{for(var a=s-e||1,o=this._root,c,d;e>t||t>=s||r>n||n>=i;)switch(d=(n<r)<<1|t<e,c=new Array(4),c[d]=o,o=c,a*=2,d){case 0:s=e+a,i=r+a;break;case 1:e=s-a,i=r+a;break;case 2:s=e+a,r=i-a;break;case 3:e=s-a,r=i-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=e,this._y0=r,this._x1=s,this._y1=i,this}function Rt(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function jt(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function T(t,n,e,r,s){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=s}function Ht(t,n,e){var r,s=this._x0,i=this._y0,a,o,c,d,u=this._x1,x=this._y1,p=[],h=this._root,m,g;for(h&&p.push(new T(h,s,i,u,x)),e==null?e=1/0:(s=t-e,i=n-e,u=t+e,x=n+e,e*=e);m=p.pop();)if(!(!(h=m.node)||(a=m.x0)>u||(o=m.y0)>x||(c=m.x1)<s||(d=m.y1)<i))if(h.length){var f=(a+c)/2,y=(o+d)/2;p.push(new T(h[3],f,y,c,d),new T(h[2],a,y,f,d),new T(h[1],f,o,c,y),new T(h[0],a,o,f,y)),(g=(n>=y)<<1|t>=f)&&(m=p[p.length-1],p[p.length-1]=p[p.length-1-g],p[p.length-1-g]=m)}else{var w=t-+this._x.call(null,h.data),k=n-+this._y.call(null,h.data),_=w*w+k*k;if(_<e){var N=Math.sqrt(e=_);s=t-N,i=n-N,u=t+N,x=n+N,r=h.data}}return r}function Vt(t){if(isNaN(u=+this._x.call(null,t))||isNaN(x=+this._y.call(null,t)))return this;var n,e=this._root,r,s,i,a=this._x0,o=this._y0,c=this._x1,d=this._y1,u,x,p,h,m,g,f,y;if(!e)return this;if(e.length)for(;;){if((m=u>=(p=(a+c)/2))?a=p:c=p,(g=x>=(h=(o+d)/2))?o=h:d=h,n=e,!(e=e[f=g<<1|m]))return this;if(!e.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(r=n,y=f)}for(;e.data!==t;)if(s=e,!(e=e.next))return this;return(i=e.next)&&delete e.next,s?(i?s.next=i:delete s.next,this):n?(i?n[f]=i:delete n[f],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(r?r[y]=e:this._root=e),this):(this._root=i,this)}function Yt(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function Xt(){return this._root}function Gt(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function Ut(t){var n=[],e,r=this._root,s,i,a,o,c;for(r&&n.push(new T(r,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(r=e.node,i=e.x0,a=e.y0,o=e.x1,c=e.y1)&&r.length){var d=(i+o)/2,u=(a+c)/2;(s=r[3])&&n.push(new T(s,d,u,o,c)),(s=r[2])&&n.push(new T(s,i,u,d,c)),(s=r[1])&&n.push(new T(s,d,a,o,u)),(s=r[0])&&n.push(new T(s,i,a,d,u))}return this}function qt(t){var n=[],e=[],r;for(this._root&&n.push(new T(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var s=r.node;if(s.length){var i,a=r.x0,o=r.y0,c=r.x1,d=r.y1,u=(a+c)/2,x=(o+d)/2;(i=s[0])&&n.push(new T(i,a,o,u,x)),(i=s[1])&&n.push(new T(i,u,o,c,x)),(i=s[2])&&n.push(new T(i,a,x,u,d)),(i=s[3])&&n.push(new T(i,u,x,c,d))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Wt(t){return t[0]}function $t(t){return arguments.length?(this._x=t,this):this._x}function Kt(t){return t[1]}function Qt(t){return arguments.length?(this._y=t,this):this._y}function K(t,n,e){var r=new U(n??Wt,e??Kt,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function U(t,n,e,r,s,i){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=s,this._y1=i,this._root=void 0}function Q(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var C=K.prototype=U.prototype;C.copy=function(){var t=new U(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=Q(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var s=0;s<4;++s)(r=n.source[s])&&(r.length?e.push({source:r,target:n.target[s]=new Array(4)}):n.target[s]=Q(r));return t},C.add=Lt,C.addAll=Ot,C.cover=It,C.data=Rt,C.extent=jt,C.find=Ht,C.remove=Vt,C.removeAll=Yt,C.root=Xt,C.size=Gt,C.visit=Ut,C.visitAfter=qt,C.x=$t,C.y=Qt;function B(t){return function(){return t}}function F(t){return(t()-.5)*1e-6}function Zt(t){return t.index}function Z(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function Jt(t){var n=Zt,e=x,r,s=B(30),i,a,o,c,d,u=1;t==null&&(t=[]);function x(f){return 1/Math.min(o[f.source.index],o[f.target.index])}function p(f){for(var y=0,w=t.length;y<u;++y)for(var k=0,_,N,M,z,E,A,v;k<w;++k)_=t[k],N=_.source,M=_.target,z=M.x+M.vx-N.x-N.vx||F(d),E=M.y+M.vy-N.y-N.vy||F(d),A=Math.sqrt(z*z+E*E),A=(A-i[k])/A*f*r[k],z*=A,E*=A,M.vx-=z*(v=c[k]),M.vy-=E*v,N.vx+=z*(v=1-v),N.vy+=E*v}function h(){if(a){var f,y=a.length,w=t.length,k=new Map(a.map((N,M)=>[n(N,M,a),N])),_;for(f=0,o=new Array(y);f<w;++f)_=t[f],_.index=f,typeof _.source!="object"&&(_.source=Z(k,_.source)),typeof _.target!="object"&&(_.target=Z(k,_.target)),o[_.source.index]=(o[_.source.index]||0)+1,o[_.target.index]=(o[_.target.index]||0)+1;for(f=0,c=new Array(w);f<w;++f)_=t[f],c[f]=o[_.source.index]/(o[_.source.index]+o[_.target.index]);r=new Array(w),m(),i=new Array(w),g()}}function m(){if(a)for(var f=0,y=t.length;f<y;++f)r[f]=+e(t[f],f,t)}function g(){if(a)for(var f=0,y=t.length;f<y;++f)i[f]=+s(t[f],f,t)}return p.initialize=function(f,y){a=f,d=y,h()},p.links=function(f){return arguments.length?(t=f,h(),p):t},p.id=function(f){return arguments.length?(n=f,p):n},p.iterations=function(f){return arguments.length?(u=+f,p):u},p.strength=function(f){return arguments.length?(e=typeof f=="function"?f:B(+f),m(),p):e},p.distance=function(f){return arguments.length?(s=typeof f=="function"?f:B(+f),g(),p):s},p}var te={value:()=>{}};function J(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new H(e)}function H(t){this._=t}function ee(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",s=e.indexOf(".");if(s>=0&&(r=e.slice(s+1),e=e.slice(0,s)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}H.prototype=J.prototype={constructor:H,on:function(t,n){var e=this._,r=ee(t+"",e),s,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((s=(t=r[i]).type)&&(s=ne(e[s],t.name)))return s;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++i<a;)if(s=(t=r[i]).type)e[s]=tt(e[s],t.name,n);else if(n==null)for(s in e)e[s]=tt(e[s],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new H(t)},call:function(t,n){if((s=arguments.length-2)>0)for(var e=new Array(s),r=0,s,i;r<s;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,i=r.length;s<i;++s)r[s].value.apply(n,e)}};function ne(t,n){for(var e=0,r=t.length,s;e<r;++e)if((s=t[e]).name===n)return s.value}function tt(t,n,e){for(var r=0,s=t.length;r<s;++r)if(t[r].name===n){t[r]=te,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var L=0,O=0,I=0,et=1e3,V,R,Y=0,P=0,X=0,j=typeof performance=="object"&&performance.now?performance:Date,nt=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function rt(){return P||(nt(re),P=j.now()+X)}function re(){P=0}function q(){this._call=this._time=this._next=null}q.prototype=it.prototype={constructor:q,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?rt():+e)+(n==null?0:+n),!this._next&&R!==this&&(R?R._next=this:V=this,R=this),this._call=t,this._time=e,W()},stop:function(){this._call&&(this._call=null,this._time=1/0,W())}};function it(t,n,e){var r=new q;return r.restart(t,n,e),r}function ie(){rt(),++L;for(var t=V,n;t;)(n=P-t._time)>=0&&t._call.call(void 0,n),t=t._next;--L}function ot(){P=(Y=j.now())+X,L=O=0;try{ie()}finally{L=0,se(),P=0}}function oe(){var t=j.now(),n=t-Y;n>et&&(X-=n,Y=t)}function se(){for(var t,n=V,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:V=e);R=t,W(r)}function W(t){if(!L){O&&(O=clearTimeout(O));var n=t-P;n>24?(t<1/0&&(O=setTimeout(ot,t-j.now()-X)),I&&(I=clearInterval(I))):(I||(Y=j.now(),I=setInterval(oe,et)),L=1,nt(ot))}}const le=1664525,ae=1013904223,st=4294967296;function fe(){let t=1;return()=>(t=(le*t+ae)%st)/st}function ce(t){return t.x}function ue(t){return t.y}var he=10,ge=Math.PI*(3-Math.sqrt(5));function ye(t){var n,e=1,r=.001,s=1-Math.pow(r,1/300),i=0,a=.6,o=new Map,c=it(x),d=J("tick","end"),u=fe();t==null&&(t=[]);function x(){p(),d.call("tick",n),e<r&&(c.stop(),d.call("end",n))}function p(g){var f,y=t.length,w;g===void 0&&(g=1);for(var k=0;k<g;++k)for(e+=(i-e)*s,o.forEach(function(_){_(e)}),f=0;f<y;++f)w=t[f],w.fx==null?w.x+=w.vx*=a:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=a:(w.y=w.fy,w.vy=0);return n}function h(){for(var g=0,f=t.length,y;g<f;++g){if(y=t[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var w=he*Math.sqrt(.5+g),k=g*ge;y.x=w*Math.cos(k),y.y=w*Math.sin(k)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function m(g){return g.initialize&&g.initialize(t,u),g}return h(),n={tick:p,restart:function(){return c.restart(x),n},stop:function(){return c.stop(),n},nodes:function(g){return arguments.length?(t=g,h(),o.forEach(m),n):t},alpha:function(g){return arguments.length?(e=+g,n):e},alphaMin:function(g){return arguments.length?(r=+g,n):r},alphaDecay:function(g){return arguments.length?(s=+g,n):+s},alphaTarget:function(g){return arguments.length?(i=+g,n):i},velocityDecay:function(g){return arguments.length?(a=1-g,n):1-a},randomSource:function(g){return arguments.length?(u=g,o.forEach(m),n):u},force:function(g,f){return arguments.length>1?(f==null?o.delete(g):o.set(g,m(f)),n):o.get(g)},find:function(g,f,y){var w=0,k=t.length,_,N,M,z,E;for(y==null?y=1/0:y*=y,w=0;w<k;++w)z=t[w],_=g-z.x,N=f-z.y,M=_*_+N*N,M<y&&(E=z,y=M);return E},on:function(g,f){return arguments.length>1?(d.on(g,f),n):d.on(g)}}}function de(){var t,n,e,r,s=B(-30),i,a=1,o=1/0,c=.81;function d(h){var m,g=t.length,f=K(t,ce,ue).visitAfter(x);for(r=h,m=0;m<g;++m)n=t[m],f.visit(p)}function u(){if(t){var h,m=t.length,g;for(i=new Array(m),h=0;h<m;++h)g=t[h],i[g.index]=+s(g,h,t)}}function x(h){var m=0,g,f,y=0,w,k,_;if(h.length){for(w=k=_=0;_<4;++_)(g=h[_])&&(f=Math.abs(g.value))&&(m+=g.value,y+=f,w+=f*g.x,k+=f*g.y);h.x=w/y,h.y=k/y}else{g=h,g.x=g.data.x,g.y=g.data.y;do m+=i[g.data.index];while(g=g.next)}h.value=m}function p(h,m,g,f){if(!h.value)return!0;var y=h.x-n.x,w=h.y-n.y,k=f-m,_=y*y+w*w;if(k*k/c<_)return _<o&&(y===0&&(y=F(e),_+=y*y),w===0&&(w=F(e),_+=w*w),_<a&&(_=Math.sqrt(a*_)),n.vx+=y*h.value*r/_,n.vy+=w*h.value*r/_),!0;if(h.length||_>=o)return;(h.data!==n||h.next)&&(y===0&&(y=F(e),_+=y*y),w===0&&(w=F(e),_+=w*w),_<a&&(_=Math.sqrt(a*_)));do h.data!==n&&(k=i[h.data.index]*r/_,n.vx+=y*k,n.vy+=w*k);while(h=h.next)}return d.initialize=function(h,m){t=h,e=m,u()},d.strength=function(h){return arguments.length?(s=typeof h=="function"?h:B(+h),u(),d):s},d.distanceMin=function(h){return arguments.length?(a=h*h,d):Math.sqrt(a)},d.distanceMax=function(h){return arguments.length?(o=h*h,d):Math.sqrt(o)},d.theta=function(h){return arguments.length?(c=h*h,d):Math.sqrt(c)},d}function xe(t){var n=B(.1),e,r,s;typeof t!="function"&&(t=B(t==null?0:+t));function i(o){for(var c=0,d=e.length,u;c<d;++c)u=e[c],u.vx+=(s[c]-u.x)*r[c]*o}function a(){if(e){var o,c=e.length;for(r=new Array(c),s=new Array(c),o=0;o<c;++o)r[o]=isNaN(s[o]=+t(e[o],o,e))?0:+n(e[o],o,e)}}return i.initialize=function(o){e=o,a()},i.strength=function(o){return arguments.length?(n=typeof o=="function"?o:B(+o),a(),i):n},i.x=function(o){return arguments.length?(t=typeof o=="function"?o:B(+o),a(),i):t},i}function we(t){var n=B(.1),e,r,s;typeof t!="function"&&(t=B(t==null?0:+t));function i(o){for(var c=0,d=e.length,u;c<d;++c)u=e[c],u.vy+=(s[c]-u.y)*r[c]*o}function a(){if(e){var o,c=e.length;for(r=new Array(c),s=new Array(c),o=0;o<c;++o)r[o]=isNaN(s[o]=+t(e[o],o,e))?0:+n(e[o],o,e)}}return i.initialize=function(o){e=o,a()},i.strength=function(o){return arguments.length?(n=typeof o=="function"?o:B(+o),a(),i):n},i.y=function(o){return arguments.length?(t=typeof o=="function"?o:B(+o),a(),i):t},i}const pe="X",_e="Y",ve="charge",me="link",lt=.01,at=.1,ke=Math.log(lt)/Math.log(1-at);function Ne(t,n,e,r){const s=async()=>{a.value.stop(),a.value=i(),r.value.static?a.value.tick(ke):a.value.restart()},i=()=>{const o=ye().stop().alphaMin(lt).alphaDecay(at).nodes(t.value);return o.force(pe,xe(e.value.width/2).strength(r.value.force.x)),o.force(_e,we(e.value.height/2).strength(r.value.force.y)),o.force(ve,de().strength(r.value.charge)),o.force(me,Jt(n.value).id(c=>{if(!("id"in c))throw new Error("Node id is undefined");return c.id})),o},a=l.ref(i());return G.watchDebounced([()=>l.toValue(t).length,()=>l.toValue(n).length,e],async()=>s(),{debounce:100,maxWait:1e3}),G.watchDebounced(()=>r.value,async()=>s(),{deep:!0,debounce:100,maxWait:1e3}),{simulation:a,animate:s}}const Ae=.5,Me=.5,Ee=-350,be=40,ze=10,Te=2,Ce=t=>{const n=l.computed(()=>{var i,a,o,c,d,u,x,p,h,m,g,f,y,w,k,_,N,M,z,E,A,v,D,b,ft,ct,ut,ht,gt,yt,dt,xt,wt,pt,_t,vt,mt,kt,Nt,At,Mt,Et,bt,zt,Tt,Ct,Bt,Dt;return{node:{stroke:((o=(a=(i=t.value)==null?void 0:i.nodes)==null?void 0:a.colors)==null?void 0:o.stroke)||"#E2EB98",fill:((u=(d=(c=t.value)==null?void 0:c.nodes)==null?void 0:d.colors)==null?void 0:u.fill)||"#93A392",selected:{stroke:((m=(h=(p=(x=t.value)==null?void 0:x.nodes)==null?void 0:p.colors)==null?void 0:h.selected)==null?void 0:m.stroke)||"#9DC4B5",fill:(w=(y=(f=(g=t.value)==null?void 0:g.nodes)==null?void 0:f.colors)==null?void 0:y.selected)==null?void 0:w.fill},hover:{stroke:"#9DC4B5",fill:(M=(N=(_=(k=t.value)==null?void 0:k.nodes)==null?void 0:_.colors)==null?void 0:N.hover)==null?void 0:M.fill},pinned:{stroke:"#9DC4B5",fill:(v=(A=(E=(z=t.value)==null?void 0:z.nodes)==null?void 0:E.colors)==null?void 0:A.pinned)==null?void 0:v.fill},label:{fill:((ct=(ft=(b=(D=t.value)==null?void 0:D.nodes)==null?void 0:b.colors)==null?void 0:ft.label)==null?void 0:ct.fill)||"#93A392"}},link:{stroke:((gt=(ht=(ut=t.value)==null?void 0:ut.links)==null?void 0:ht.colors)==null?void 0:gt.stroke)||"#BAD9A2",fill:(xt=(dt=(yt=t.value)==null?void 0:yt.links)==null?void 0:dt.colors)==null?void 0:xt.fill,selected:{stroke:((vt=(_t=(pt=(wt=t.value)==null?void 0:wt.links)==null?void 0:pt.colors)==null?void 0:_t.selected)==null?void 0:vt.stroke)||"#9DC4B5",fill:(At=(Nt=(kt=(mt=t.value)==null?void 0:mt.links)==null?void 0:kt.colors)==null?void 0:Nt.selected)==null?void 0:At.fill},hover:{stroke:"#9DC4B5",fill:(zt=(bt=(Et=(Mt=t.value)==null?void 0:Mt.links)==null?void 0:Et.colors)==null?void 0:bt.hover)==null?void 0:zt.fill},label:{fill:((Dt=(Bt=(Ct=(Tt=t.value)==null?void 0:Tt.links)==null?void 0:Ct.colors)==null?void 0:Bt.label)==null?void 0:Dt.fill)||"#93A392"}}}}),e=l.computed(()=>{var i,a,o,c,d,u,x,p;return{static:((a=(i=t.value)==null?void 0:i.simulation)==null?void 0:a.static)||!1,force:{x:((c=(o=t.value)==null?void 0:o.simulation)==null?void 0:c.force.x)||Ae,y:((u=(d=t.value)==null?void 0:d.simulation)==null?void 0:u.force.y)||Me},charge:((p=(x=t.value)==null?void 0:x.simulation)==null?void 0:p.charge)||Ee}}),r=l.computed(()=>{var i,a,o,c,d;return{size:((a=(i=t.value)==null?void 0:i.nodes)==null?void 0:a.size)||be,font:{size:((d=(c=(o=t.value)==null?void 0:o.nodes)==null?void 0:c.font)==null?void 0:d.size)||ze}}}),s=l.computed(()=>{var i,a;return{width:((a=(i=t.value)==null?void 0:i.links)==null?void 0:a.width)||Te}});return{simulation:e,theme:n,nodes:r,links:s}},Be=["viewBox"],De={id:"l-links",class:"links"},Se=["id","d","onClick","onTouchstartPassive"],Pe={id:"l-nodes",class:"nodes"},Fe=["viewBox","width","height","x","y","title","onClick","onTouchendPassive","onMousedown","onTouchstartPassive","innerHTML"],Le=["r","cx","cy","title","onClick","onTouchendPassive","onMousedown","onTouchstartPassive"],Oe={id:"node-labels",class:"labels"},Ie=["x","y","font-size","stroke-width"],Re=l.defineComponent({__name:"D3NetworkGraph",props:{nodes:{type:Array,required:!0},links:{type:Array,required:!0},options:{type:Object,default:void 0}},emits:["node-click","link-click"],setup(t,{emit:n}){var z;const e=t;l.useCssVars(E=>({"2eeeb8c9":l.unref(r).node.stroke,"782aa854":l.unref(r).node.fill,"01dadd45":l.unref(r).node.selected.stroke||l.unref(r).node.stroke,"9abc1bb6":l.unref(r).node.selected.fill||l.unref(r).node.fill,"645c7142":l.unref(r).node.pinned.stroke||l.unref(r).node.stroke,"7341e6bc":l.unref(r).node.pinned.fill||l.unref(r).node.fill,"0543e464":l.unref(r).node.hover.stroke||l.unref(r).node.stroke,"3eb160c4":l.unref(r).node.hover.fill||l.unref(r).node.fill,f53fe05e:l.unref(r).link.stroke,"08d3bd48":l.unref(r).link.fill,"2c863772":l.unref(r).link.selected.stroke,"33b3bd3d":l.unref(r).link.selected.fill,"549fee0a":l.unref(r).node.hover.stroke,"67065d06":l.unref(r).node.hover.fill,"74f80d56":l.unref(r).link.label.fill,"16cd0b64":l.unref(r).node.label.fill}));const{theme:r,simulation:s,nodes:i,links:a}=Ce(l.toRef(()=>e.options)),o=l.ref(null),c=l.ref({width:100,height:100});G.useResizeObserver(o,E=>{const A=E[0];c.value={width:A.contentRect.width,height:A.contentRect.height}});const{simulation:d}=Ne(l.toRef(()=>e.nodes),l.toRef(()=>e.links),c,s),{dragStart:u,dragEnd:x,move:p}=St(d,(z=e.options)==null?void 0:z.draggables),{label:h,getSize:m,getWidth:g,getClass:f,getHeight:y,getStyle:w}=Pt(i),{getPath:k,getAttrs:_,getClass:N,getStyle:M}=Ft(a);return(E,A)=>(l.openBlock(),l.createElementBlock("svg",{ref_key:"svg",ref:o,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMinYMin",viewBox:`0 0 ${c.value.width} ${c.value.height}`,class:"svg-container",onMouseup:A[0]||(A[0]=(...v)=>l.unref(x)&&l.unref(x)(...v)),onTouchendPassive:A[1]||(A[1]=(...v)=>l.unref(x)&&l.unref(x)(...v)),onTouchstartPassive:A[2]||(A[2]=async()=>{}),onMousemove:A[3]||(A[3]=(...v)=>l.unref(p)&&l.unref(p)(...v))},[l.createElementVNode("g",De,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(t.links,v=>(l.openBlock(),l.createElementBlock("path",l.mergeProps({id:v.id,key:v.id,d:l.unref(k)(v)},l.unref(_)(v),{class:l.unref(N)(v.id),style:l.unref(M)(v),onClick:D=>n("link-click",D,v),onTouchstartPassive:D=>n("link-click",D,v)}),null,16,Se))),128))]),l.createElementVNode("g",Pe,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(t.nodes,(v,D)=>(l.openBlock(),l.createElementBlock(l.Fragment,{key:D},[v.innerSVG?(l.openBlock(),l.createElementBlock("svg",{key:0,viewBox:v.innerSVG.viewBox,width:l.unref(g)(v),height:l.unref(y)(v),x:(v.x||0)-l.unref(g)(v)/2,y:(v.y||0)-l.unref(y)(v)/2,style:l.normalizeStyle(l.unref(w)(v)),title:v.name,class:l.normalizeClass(l.unref(f)(v,["node-svg"])),onClick:b=>n("node-click",b,v),onTouchendPassive:b=>n("node-click",b,v),onMousedown:l.withModifiers(b=>l.unref(u)(b,D),["prevent"]),onTouchstartPassive:l.withModifiers(b=>l.unref(u)(b,D),["prevent"]),innerHTML:v.innerSVG.innerHtml},null,46,Fe)):(l.openBlock(),l.createElementBlock("circle",{key:1,r:l.unref(m)(v)/2,cx:v.x||0,cy:v.y||0,style:l.normalizeStyle(l.unref(w)(v)),title:v.name,class:l.normalizeClass(l.unref(f)(v)),onClick:b=>E.$emit("node-click",b,v),onTouchendPassive:b=>E.$emit("node-click",b,v),onMousedown:l.withModifiers(b=>l.unref(u)(b,D),["prevent"]),onTouchstartPassive:l.withModifiers(b=>l.unref(u)(b,D),["prevent"])},null,46,Le))],64))),128))]),l.createElementVNode("g",Oe,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(t.nodes,v=>(l.openBlock(),l.createElementBlock("text",{key:v.id,class:"node-label",x:(v.x||0)+l.unref(m)(v)/2+l.unref(h).font.size/2,y:(v.y||0)+l.unref(h).offset.y,"font-size":l.unref(h).font.size,"stroke-width":l.unref(h).font.size/8},l.toDisplayString(v.name),9,Ie))),128))])],40,Be))}}),je="";S.D3NetworkGraph=Re,Object.defineProperty(S,Symbol.toStringTag,{value:"Module"})});
