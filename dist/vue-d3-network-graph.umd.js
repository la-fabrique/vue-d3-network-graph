(function(S,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("vue"),require("@vueuse/core")):typeof define=="function"&&define.amd?define(["exports","vue","@vueuse/core"],l):(S=typeof globalThis<"u"?globalThis:S||self,l(S["vue-d3-network-graph"]={},S.Vue,S.VueUseCore))})(this,function(S,l,X){"use strict";function Pt(t,n){const e=l.ref(void 0),r=l.reactive({x:0,y:0}),s=u=>{let x,p=0;return u instanceof MouseEvent?(x=u.clientX,p=u.clientY):u instanceof TouchEvent&&(x=u.touches[0].clientX,p=u.touches[0].clientY),{x:x||0,y:p||0}},i=(u,x)=>l.toValue(n)?(()=>{e.value=x,a(u,t.value.nodes()[x])})():void 0,a=(u,x)=>{let p=0,h=0;if(u&&x&&(x!=null&&x.x)&&(x!=null&&x.y)){const m=s(u);p=m.x?m.x-x.x:x.x,h=m.y?m.y-x.y:x.y}r.x=p,r.y=h},o=()=>{if(e.value!==void 0){const u=t.value.nodes()[e.value];u.fx=null,u.fy=null,f()}},f=()=>{e.value=void 0,t.value.alpha(.1),t.value.restart(),a()};return{dragStart:i,dragEnd:o,move:u=>{const x=s(u);e.value!=null&&t.value.nodes()[e.value]&&(t.value.restart(),t.value.alpha(.5),t.value.nodes()[e.value].fx=x.x-r.x,t.value.nodes()[e.value].fy=x.y-r.y)}}}function Ft(t){const n=o=>o.size||t.value.size,e=o=>o.width||t.value.size,r=o=>o.height||o.size||t.value.size,s=o=>o.color?"fill: "+o.color:"",i=(o,f=[])=>{const y=o.cssClass?o.cssClass:[];return y.push("node"),f.forEach(u=>y.push(u)),(o.fx||o.fy)&&y.push("pinned"),y};return{label:l.computed(()=>({font:{size:t.value.font.size},offset:{x:t.value.size/2+t.value.font.size/2,y:t.value.font.size/2}})),getSize:n,getWidth:e,getHeight:r,getStyle:s,getClass:i}}function Lt(t){return{getPath:i=>{var a,o,f,y;if(typeof i.source!="number"&&typeof i.source!="string"&&typeof i.target!="number"&&typeof i.target!="string"){const u={M:[((a=i==null?void 0:i.source)==null?void 0:a.x)||0,((o=i==null?void 0:i.source)==null?void 0:o.y)||0],X:[((f=i==null?void 0:i.target)==null?void 0:f.x)||0,((y=i==null?void 0:i.target)==null?void 0:y.y)||0]};return"M "+u.M.join(" ")+" L"+u.X.join(" ")}},getAttrs:i=>({"stroke-width":t.value.width}),getClass:i=>["link"],getStyle:i=>i.color?{stroke:i.color}:{}}}function It(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return $(this.cover(n,e),n,e,t)}function $(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var s,i=t._root,a={data:r},o=t._x0,f=t._y0,y=t._x1,u=t._y1,x,p,h,m,g,c,d,w;if(!i)return t._root=a,t;for(;i.length;)if((g=n>=(x=(o+y)/2))?o=x:y=x,(c=e>=(p=(f+u)/2))?f=p:u=p,s=i,!(i=i[d=c<<1|g]))return s[d]=a,t;if(h=+t._x.call(null,i.data),m=+t._y.call(null,i.data),n===h&&e===m)return a.next=i,s?s[d]=a:t._root=a,t;do s=s?s[d]=new Array(4):t._root=new Array(4),(g=n>=(x=(o+y)/2))?o=x:y=x,(c=e>=(p=(f+u)/2))?f=p:u=p;while((d=c<<1|g)===(w=(m>=p)<<1|h>=x));return s[w]=i,s[d]=a,t}function Ot(t){var n,e,r=t.length,s,i,a=new Array(r),o=new Array(r),f=1/0,y=1/0,u=-1/0,x=-1/0;for(e=0;e<r;++e)isNaN(s=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=s,o[e]=i,s<f&&(f=s),s>u&&(u=s),i<y&&(y=i),i>x&&(x=i));if(f>u||y>x)return this;for(this.cover(f,y).cover(u,x),e=0;e<r;++e)$(this,a[e],o[e],t[e]);return this}function Rt(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,s=this._x1,i=this._y1;if(isNaN(e))s=(e=Math.floor(t))+1,i=(r=Math.floor(n))+1;else{for(var a=s-e||1,o=this._root,f,y;e>t||t>=s||r>n||n>=i;)switch(y=(n<r)<<1|t<e,f=new Array(4),f[y]=o,o=f,a*=2,y){case 0:s=e+a,i=r+a;break;case 1:e=s-a,i=r+a;break;case 2:s=e+a,r=i-a;break;case 3:e=s-a,r=i-a;break}this._root&&this._root.length&&(this._root=o)}return this._x0=e,this._y0=r,this._x1=s,this._y1=i,this}function jt(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function Ht(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function T(t,n,e,r,s){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=s}function Vt(t,n,e){var r,s=this._x0,i=this._y0,a,o,f,y,u=this._x1,x=this._y1,p=[],h=this._root,m,g;for(h&&p.push(new T(h,s,i,u,x)),e==null?e=1/0:(s=t-e,i=n-e,u=t+e,x=n+e,e*=e);m=p.pop();)if(!(!(h=m.node)||(a=m.x0)>u||(o=m.y0)>x||(f=m.x1)<s||(y=m.y1)<i))if(h.length){var c=(a+f)/2,d=(o+y)/2;p.push(new T(h[3],c,d,f,y),new T(h[2],a,d,c,y),new T(h[1],c,o,f,d),new T(h[0],a,o,c,d)),(g=(n>=d)<<1|t>=c)&&(m=p[p.length-1],p[p.length-1]=p[p.length-1-g],p[p.length-1-g]=m)}else{var w=t-+this._x.call(null,h.data),k=n-+this._y.call(null,h.data),_=w*w+k*k;if(_<e){var N=Math.sqrt(e=_);s=t-N,i=n-N,u=t+N,x=n+N,r=h.data}}return r}function Yt(t){if(isNaN(u=+this._x.call(null,t))||isNaN(x=+this._y.call(null,t)))return this;var n,e=this._root,r,s,i,a=this._x0,o=this._y0,f=this._x1,y=this._y1,u,x,p,h,m,g,c,d;if(!e)return this;if(e.length)for(;;){if((m=u>=(p=(a+f)/2))?a=p:f=p,(g=x>=(h=(o+y)/2))?o=h:y=h,n=e,!(e=e[c=g<<1|m]))return this;if(!e.length)break;(n[c+1&3]||n[c+2&3]||n[c+3&3])&&(r=n,d=c)}for(;e.data!==t;)if(s=e,!(e=e.next))return this;return(i=e.next)&&delete e.next,s?(i?s.next=i:delete s.next,this):n?(i?n[c]=i:delete n[c],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(r?r[d]=e:this._root=e),this):(this._root=i,this)}function Ut(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function Xt(){return this._root}function Gt(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function qt(t){var n=[],e,r=this._root,s,i,a,o,f;for(r&&n.push(new T(r,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(r=e.node,i=e.x0,a=e.y0,o=e.x1,f=e.y1)&&r.length){var y=(i+o)/2,u=(a+f)/2;(s=r[3])&&n.push(new T(s,y,u,o,f)),(s=r[2])&&n.push(new T(s,i,u,y,f)),(s=r[1])&&n.push(new T(s,y,a,o,u)),(s=r[0])&&n.push(new T(s,i,a,y,u))}return this}function Wt(t){var n=[],e=[],r;for(this._root&&n.push(new T(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var s=r.node;if(s.length){var i,a=r.x0,o=r.y0,f=r.x1,y=r.y1,u=(a+f)/2,x=(o+y)/2;(i=s[0])&&n.push(new T(i,a,o,u,x)),(i=s[1])&&n.push(new T(i,u,o,f,x)),(i=s[2])&&n.push(new T(i,a,x,u,y)),(i=s[3])&&n.push(new T(i,u,x,f,y))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function $t(t){return t[0]}function Kt(t){return arguments.length?(this._x=t,this):this._x}function Qt(t){return t[1]}function Zt(t){return arguments.length?(this._y=t,this):this._y}function K(t,n,e){var r=new G(n??$t,e??Qt,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function G(t,n,e,r,s,i){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=s,this._y1=i,this._root=void 0}function Q(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var b=K.prototype=G.prototype;b.copy=function(){var t=new G(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=Q(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var s=0;s<4;++s)(r=n.source[s])&&(r.length?e.push({source:r,target:n.target[s]=new Array(4)}):n.target[s]=Q(r));return t},b.add=It,b.addAll=Ot,b.cover=Rt,b.data=jt,b.extent=Ht,b.find=Vt,b.remove=Yt,b.removeAll=Ut,b.root=Xt,b.size=Gt,b.visit=qt,b.visitAfter=Wt,b.x=Kt,b.y=Zt;function B(t){return function(){return t}}function F(t){return(t()-.5)*1e-6}function Jt(t){return t.index}function Z(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function te(t){var n=Jt,e=x,r,s=B(30),i,a,o,f,y,u=1;t==null&&(t=[]);function x(c){return 1/Math.min(o[c.source.index],o[c.target.index])}function p(c){for(var d=0,w=t.length;d<u;++d)for(var k=0,_,N,M,C,E,A,v;k<w;++k)_=t[k],N=_.source,M=_.target,C=M.x+M.vx-N.x-N.vx||F(y),E=M.y+M.vy-N.y-N.vy||F(y),A=Math.sqrt(C*C+E*E),A=(A-i[k])/A*c*r[k],C*=A,E*=A,M.vx-=C*(v=f[k]),M.vy-=E*v,N.vx+=C*(v=1-v),N.vy+=E*v}function h(){if(a){var c,d=a.length,w=t.length,k=new Map(a.map((N,M)=>[n(N,M,a),N])),_;for(c=0,o=new Array(d);c<w;++c)_=t[c],_.index=c,typeof _.source!="object"&&(_.source=Z(k,_.source)),typeof _.target!="object"&&(_.target=Z(k,_.target)),o[_.source.index]=(o[_.source.index]||0)+1,o[_.target.index]=(o[_.target.index]||0)+1;for(c=0,f=new Array(w);c<w;++c)_=t[c],f[c]=o[_.source.index]/(o[_.source.index]+o[_.target.index]);r=new Array(w),m(),i=new Array(w),g()}}function m(){if(a)for(var c=0,d=t.length;c<d;++c)r[c]=+e(t[c],c,t)}function g(){if(a)for(var c=0,d=t.length;c<d;++c)i[c]=+s(t[c],c,t)}return p.initialize=function(c,d){a=c,y=d,h()},p.links=function(c){return arguments.length?(t=c,h(),p):t},p.id=function(c){return arguments.length?(n=c,p):n},p.iterations=function(c){return arguments.length?(u=+c,p):u},p.strength=function(c){return arguments.length?(e=typeof c=="function"?c:B(+c),m(),p):e},p.distance=function(c){return arguments.length?(s=typeof c=="function"?c:B(+c),g(),p):s},p}var ee={value:()=>{}};function J(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new H(e)}function H(t){this._=t}function ne(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",s=e.indexOf(".");if(s>=0&&(r=e.slice(s+1),e=e.slice(0,s)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}H.prototype=J.prototype={constructor:H,on:function(t,n){var e=this._,r=ne(t+"",e),s,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((s=(t=r[i]).type)&&(s=re(e[s],t.name)))return s;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++i<a;)if(s=(t=r[i]).type)e[s]=tt(e[s],t.name,n);else if(n==null)for(s in e)e[s]=tt(e[s],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new H(t)},call:function(t,n){if((s=arguments.length-2)>0)for(var e=new Array(s),r=0,s,i;r<s;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,i=r.length;s<i;++s)r[s].value.apply(n,e)}};function re(t,n){for(var e=0,r=t.length,s;e<r;++e)if((s=t[e]).name===n)return s.value}function tt(t,n,e){for(var r=0,s=t.length;r<s;++r)if(t[r].name===n){t[r]=ee,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var L=0,I=0,O=0,et=1e3,V,R,Y=0,P=0,U=0,j=typeof performance=="object"&&performance.now?performance:Date,nt=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function rt(){return P||(nt(ie),P=j.now()+U)}function ie(){P=0}function q(){this._call=this._time=this._next=null}q.prototype=it.prototype={constructor:q,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?rt():+e)+(n==null?0:+n),!this._next&&R!==this&&(R?R._next=this:V=this,R=this),this._call=t,this._time=e,W()},stop:function(){this._call&&(this._call=null,this._time=1/0,W())}};function it(t,n,e){var r=new q;return r.restart(t,n,e),r}function oe(){rt(),++L;for(var t=V,n;t;)(n=P-t._time)>=0&&t._call.call(void 0,n),t=t._next;--L}function ot(){P=(Y=j.now())+U,L=I=0;try{oe()}finally{L=0,le(),P=0}}function se(){var t=j.now(),n=t-Y;n>et&&(U-=n,Y=t)}function le(){for(var t,n=V,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:V=e);R=t,W(r)}function W(t){if(!L){I&&(I=clearTimeout(I));var n=t-P;n>24?(t<1/0&&(I=setTimeout(ot,t-j.now()-U)),O&&(O=clearInterval(O))):(O||(Y=j.now(),O=setInterval(se,et)),L=1,nt(ot))}}const ae=1664525,fe=1013904223,st=4294967296;function ce(){let t=1;return()=>(t=(ae*t+fe)%st)/st}function ue(t){return t.x}function he(t){return t.y}var ge=10,ye=Math.PI*(3-Math.sqrt(5));function de(t){var n,e=1,r=.001,s=1-Math.pow(r,1/300),i=0,a=.6,o=new Map,f=it(x),y=J("tick","end"),u=ce();t==null&&(t=[]);function x(){p(),y.call("tick",n),e<r&&(f.stop(),y.call("end",n))}function p(g){var c,d=t.length,w;g===void 0&&(g=1);for(var k=0;k<g;++k)for(e+=(i-e)*s,o.forEach(function(_){_(e)}),c=0;c<d;++c)w=t[c],w.fx==null?w.x+=w.vx*=a:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=a:(w.y=w.fy,w.vy=0);return n}function h(){for(var g=0,c=t.length,d;g<c;++g){if(d=t[g],d.index=g,d.fx!=null&&(d.x=d.fx),d.fy!=null&&(d.y=d.fy),isNaN(d.x)||isNaN(d.y)){var w=ge*Math.sqrt(.5+g),k=g*ye;d.x=w*Math.cos(k),d.y=w*Math.sin(k)}(isNaN(d.vx)||isNaN(d.vy))&&(d.vx=d.vy=0)}}function m(g){return g.initialize&&g.initialize(t,u),g}return h(),n={tick:p,restart:function(){return f.restart(x),n},stop:function(){return f.stop(),n},nodes:function(g){return arguments.length?(t=g,h(),o.forEach(m),n):t},alpha:function(g){return arguments.length?(e=+g,n):e},alphaMin:function(g){return arguments.length?(r=+g,n):r},alphaDecay:function(g){return arguments.length?(s=+g,n):+s},alphaTarget:function(g){return arguments.length?(i=+g,n):i},velocityDecay:function(g){return arguments.length?(a=1-g,n):1-a},randomSource:function(g){return arguments.length?(u=g,o.forEach(m),n):u},force:function(g,c){return arguments.length>1?(c==null?o.delete(g):o.set(g,m(c)),n):o.get(g)},find:function(g,c,d){var w=0,k=t.length,_,N,M,C,E;for(d==null?d=1/0:d*=d,w=0;w<k;++w)C=t[w],_=g-C.x,N=c-C.y,M=_*_+N*N,M<d&&(E=C,d=M);return E},on:function(g,c){return arguments.length>1?(y.on(g,c),n):y.on(g)}}}function xe(){var t,n,e,r,s=B(-30),i,a=1,o=1/0,f=.81;function y(h){var m,g=t.length,c=K(t,ue,he).visitAfter(x);for(r=h,m=0;m<g;++m)n=t[m],c.visit(p)}function u(){if(t){var h,m=t.length,g;for(i=new Array(m),h=0;h<m;++h)g=t[h],i[g.index]=+s(g,h,t)}}function x(h){var m=0,g,c,d=0,w,k,_;if(h.length){for(w=k=_=0;_<4;++_)(g=h[_])&&(c=Math.abs(g.value))&&(m+=g.value,d+=c,w+=c*g.x,k+=c*g.y);h.x=w/d,h.y=k/d}else{g=h,g.x=g.data.x,g.y=g.data.y;do m+=i[g.data.index];while(g=g.next)}h.value=m}function p(h,m,g,c){if(!h.value)return!0;var d=h.x-n.x,w=h.y-n.y,k=c-m,_=d*d+w*w;if(k*k/f<_)return _<o&&(d===0&&(d=F(e),_+=d*d),w===0&&(w=F(e),_+=w*w),_<a&&(_=Math.sqrt(a*_)),n.vx+=d*h.value*r/_,n.vy+=w*h.value*r/_),!0;if(h.length||_>=o)return;(h.data!==n||h.next)&&(d===0&&(d=F(e),_+=d*d),w===0&&(w=F(e),_+=w*w),_<a&&(_=Math.sqrt(a*_)));do h.data!==n&&(k=i[h.data.index]*r/_,n.vx+=d*k,n.vy+=w*k);while(h=h.next)}return y.initialize=function(h,m){t=h,e=m,u()},y.strength=function(h){return arguments.length?(s=typeof h=="function"?h:B(+h),u(),y):s},y.distanceMin=function(h){return arguments.length?(a=h*h,y):Math.sqrt(a)},y.distanceMax=function(h){return arguments.length?(o=h*h,y):Math.sqrt(o)},y.theta=function(h){return arguments.length?(f=h*h,y):Math.sqrt(f)},y}function we(t){var n=B(.1),e,r,s;typeof t!="function"&&(t=B(t==null?0:+t));function i(o){for(var f=0,y=e.length,u;f<y;++f)u=e[f],u.vx+=(s[f]-u.x)*r[f]*o}function a(){if(e){var o,f=e.length;for(r=new Array(f),s=new Array(f),o=0;o<f;++o)r[o]=isNaN(s[o]=+t(e[o],o,e))?0:+n(e[o],o,e)}}return i.initialize=function(o){e=o,a()},i.strength=function(o){return arguments.length?(n=typeof o=="function"?o:B(+o),a(),i):n},i.x=function(o){return arguments.length?(t=typeof o=="function"?o:B(+o),a(),i):t},i}function pe(t){var n=B(.1),e,r,s;typeof t!="function"&&(t=B(t==null?0:+t));function i(o){for(var f=0,y=e.length,u;f<y;++f)u=e[f],u.vy+=(s[f]-u.y)*r[f]*o}function a(){if(e){var o,f=e.length;for(r=new Array(f),s=new Array(f),o=0;o<f;++o)r[o]=isNaN(s[o]=+t(e[o],o,e))?0:+n(e[o],o,e)}}return i.initialize=function(o){e=o,a()},i.strength=function(o){return arguments.length?(n=typeof o=="function"?o:B(+o),a(),i):n},i.y=function(o){return arguments.length?(t=typeof o=="function"?o:B(+o),a(),i):t},i}const _e="X",ve="Y",me="charge",ke="link",lt=.01,at=.1,Ne=Math.log(lt)/Math.log(1-at);function ft(t,n,e,r){const s=l.getCurrentInstance(),i=async()=>{var f;o.value.stop(),o.value=a(),r.value.static?o.value.tick(Ne):o.value.restart(),(f=s==null?void 0:s.proxy)==null||f.$forceUpdate()},a=()=>{const f=de().stop().alphaMin(lt).alphaDecay(at).nodes(t.value);return f.force(_e,we(e.value.width/2).strength(r.value.force.x)),f.force(ve,pe(e.value.height/2).strength(r.value.force.y)),f.force(me,xe().strength(r.value.force.charge)),f.force(ke,te(n.value).id(y=>{if(!("id"in y))throw new Error("Node id is undefined");return y.id})),f},o=l.ref(a());return X.watchDebounced([()=>l.toValue(t).length,()=>l.toValue(n).length,e],async()=>i(),{debounce:100,maxWait:1e3}),X.watchDebounced(()=>r.value,async()=>i(),{deep:!0,debounce:100,maxWait:1e3}),{simulation:o,refresh:i}}const Ae=.5,Me=.5,Ee=-350,ze=40,Ce=10,Te=2,be=t=>{const n=l.computed(()=>{var i,a,o,f,y,u,x,p,h,m,g,c,d,w,k,_,N,M,C,E,A,v,D,z,ct,ut,ht,gt,yt,dt,xt,wt,pt,_t,vt,mt,kt,Nt,At,Mt,Et,zt,Ct,Tt,bt,Bt,Dt,St;return{node:{stroke:((o=(a=(i=t.value)==null?void 0:i.nodes)==null?void 0:a.colors)==null?void 0:o.stroke)||"#E2EB98",fill:((u=(y=(f=t.value)==null?void 0:f.nodes)==null?void 0:y.colors)==null?void 0:u.fill)||"#93A392",selected:{stroke:((m=(h=(p=(x=t.value)==null?void 0:x.nodes)==null?void 0:p.colors)==null?void 0:h.selected)==null?void 0:m.stroke)||"#9DC4B5",fill:(w=(d=(c=(g=t.value)==null?void 0:g.nodes)==null?void 0:c.colors)==null?void 0:d.selected)==null?void 0:w.fill},hover:{stroke:"#9DC4B5",fill:(M=(N=(_=(k=t.value)==null?void 0:k.nodes)==null?void 0:_.colors)==null?void 0:N.hover)==null?void 0:M.fill},pinned:{stroke:"#9DC4B5",fill:(v=(A=(E=(C=t.value)==null?void 0:C.nodes)==null?void 0:E.colors)==null?void 0:A.pinned)==null?void 0:v.fill},label:{fill:((ut=(ct=(z=(D=t.value)==null?void 0:D.nodes)==null?void 0:z.colors)==null?void 0:ct.label)==null?void 0:ut.fill)||"#93A392"}},link:{stroke:((yt=(gt=(ht=t.value)==null?void 0:ht.links)==null?void 0:gt.colors)==null?void 0:yt.stroke)||"#BAD9A2",fill:(wt=(xt=(dt=t.value)==null?void 0:dt.links)==null?void 0:xt.colors)==null?void 0:wt.fill,selected:{stroke:((mt=(vt=(_t=(pt=t.value)==null?void 0:pt.links)==null?void 0:_t.colors)==null?void 0:vt.selected)==null?void 0:mt.stroke)||"#9DC4B5",fill:(Mt=(At=(Nt=(kt=t.value)==null?void 0:kt.links)==null?void 0:Nt.colors)==null?void 0:At.selected)==null?void 0:Mt.fill},hover:{stroke:"#9DC4B5",fill:(Tt=(Ct=(zt=(Et=t.value)==null?void 0:Et.links)==null?void 0:zt.colors)==null?void 0:Ct.hover)==null?void 0:Tt.fill},label:{fill:((St=(Dt=(Bt=(bt=t.value)==null?void 0:bt.links)==null?void 0:Bt.colors)==null?void 0:Dt.label)==null?void 0:St.fill)||"#93A392"}}}}),e=l.computed(()=>{var i,a,o,f,y,u,x,p;return{static:((a=(i=t.value)==null?void 0:i.simulation)==null?void 0:a.static)||!1,force:{x:((f=(o=t.value)==null?void 0:o.simulation)==null?void 0:f.force.x)||Ae,y:((u=(y=t.value)==null?void 0:y.simulation)==null?void 0:u.force.y)||Me,charge:((p=(x=t.value)==null?void 0:x.simulation)==null?void 0:p.force.charge)||Ee}}}),r=l.computed(()=>{var i,a,o,f,y;return{size:((a=(i=t.value)==null?void 0:i.nodes)==null?void 0:a.size)||ze,font:{size:((y=(f=(o=t.value)==null?void 0:o.nodes)==null?void 0:f.font)==null?void 0:y.size)||Ce}}}),s=l.computed(()=>{var i,a;return{width:((a=(i=t.value)==null?void 0:i.links)==null?void 0:a.width)||Te}});return{simulation:e,theme:n,nodes:r,links:s}},Be=["viewBox"],De={id:"l-links",class:"links"},Se=["id","d","onClick","onTouchstartPassive"],Pe={id:"l-nodes",class:"nodes"},Fe=["viewBox","width","height","x","y","title","onClick","onTouchendPassive","onMousedown","onTouchstartPassive","innerHTML"],Le=["r","cx","cy","title","onClick","onTouchendPassive","onMousedown","onTouchstartPassive"],Ie={id:"node-labels",class:"labels"},Oe=["x","y","font-size","stroke-width"],Re=l.defineComponent({__name:"D3NetworkGraph",props:{nodes:{type:Array,required:!0},links:{type:Array,required:!0},options:{type:Object,default:void 0}},emits:["node-click","link-click"],setup(t,{emit:n}){var C;const e=t;l.useCssVars(E=>({"0d0649ae":l.unref(r).node.stroke,"129de2b4":l.unref(r).node.fill,"21cc97a5":l.unref(r).node.selected.stroke||l.unref(r).node.stroke,eb6046f6:l.unref(r).node.selected.fill||l.unref(r).node.fill,"083943a2":l.unref(r).node.pinned.stroke||l.unref(r).node.stroke,"43440f02":l.unref(r).node.pinned.fill||l.unref(r).node.fill,23534604:l.unref(r).node.hover.stroke||l.unref(r).node.stroke,"29f29264":l.unref(r).node.hover.fill||l.unref(r).node.fill,"4fee3231":l.unref(r).link.stroke,d3ed4888:l.unref(r).link.fill,"836e7ddc":l.unref(r).link.selected.stroke,"2c67a246":l.unref(r).link.selected.fill,"67f2e35b":l.unref(r).node.hover.stroke,"1efc4f66":l.unref(r).node.hover.fill,"2cedffb6":l.unref(r).link.label.fill,a6e126a4:l.unref(r).node.label.fill}));const{theme:r,simulation:s,nodes:i,links:a}=be(l.toRef(()=>e.options)),o=l.ref(null),f=l.ref({width:100,height:100});X.useResizeObserver(o,E=>{const A=E[0];f.value={width:A.contentRect.width,height:A.contentRect.height}});const{simulation:y}=ft(l.toRef(()=>e.nodes),l.toRef(()=>e.links),f,s),{dragStart:u,dragEnd:x,move:p}=Pt(y,(C=e.options)==null?void 0:C.draggables),{label:h,getSize:m,getWidth:g,getClass:c,getHeight:d,getStyle:w}=Ft(i),{getPath:k,getAttrs:_,getClass:N,getStyle:M}=Lt(a);return(E,A)=>(l.openBlock(),l.createElementBlock("svg",{ref_key:"svg",ref:o,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMinYMin",viewBox:`0 0 ${f.value.width} ${f.value.height}`,class:"svg-container",onMouseup:A[0]||(A[0]=(...v)=>l.unref(x)&&l.unref(x)(...v)),onTouchendPassive:A[1]||(A[1]=(...v)=>l.unref(x)&&l.unref(x)(...v)),onTouchstartPassive:A[2]||(A[2]=async()=>{}),onMousemove:A[3]||(A[3]=(...v)=>l.unref(p)&&l.unref(p)(...v))},[l.createElementVNode("g",De,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(t.links,v=>(l.openBlock(),l.createElementBlock("path",l.mergeProps({id:v.id,key:v.id,d:l.unref(k)(v)},l.unref(_)(v),{class:l.unref(N)(v.id),style:l.unref(M)(v),onClick:D=>n("link-click",D,v),onTouchstartPassive:D=>n("link-click",D,v)}),null,16,Se))),128))]),l.createElementVNode("g",Pe,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(t.nodes,(v,D)=>(l.openBlock(),l.createElementBlock(l.Fragment,{key:D},[v.innerSVG?(l.openBlock(),l.createElementBlock("svg",{key:0,viewBox:v.innerSVG.viewBox,width:l.unref(g)(v),height:l.unref(d)(v),x:(v.x||0)-l.unref(g)(v)/2,y:(v.y||0)-l.unref(d)(v)/2,style:l.normalizeStyle(l.unref(w)(v)),title:v.name,class:l.normalizeClass(l.unref(c)(v,["node-svg"])),onClick:z=>n("node-click",z,v),onTouchendPassive:z=>n("node-click",z,v),onMousedown:l.withModifiers(z=>l.unref(u)(z,D),["prevent"]),onTouchstartPassive:l.withModifiers(z=>l.unref(u)(z,D),["prevent"]),innerHTML:v.innerSVG.innerHtml},null,46,Fe)):(l.openBlock(),l.createElementBlock("circle",{key:1,r:l.unref(m)(v)/2,cx:v.x||0,cy:v.y||0,style:l.normalizeStyle(l.unref(w)(v)),title:v.name,class:l.normalizeClass(l.unref(c)(v)),onClick:z=>E.$emit("node-click",z,v),onTouchendPassive:z=>E.$emit("node-click",z,v),onMousedown:l.withModifiers(z=>l.unref(u)(z,D),["prevent"]),onTouchstartPassive:l.withModifiers(z=>l.unref(u)(z,D),["prevent"])},null,46,Le))],64))),128))]),l.createElementVNode("g",Ie,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(t.nodes,v=>(l.openBlock(),l.createElementBlock("text",{key:v.id,class:"node-label",x:(v.x||0)+l.unref(m)(v)/2+l.unref(h).font.size/2,y:(v.y||0)+l.unref(h).offset.y,"font-size":l.unref(h).font.size,"stroke-width":l.unref(h).font.size/8},l.toDisplayString(v.name),9,Oe))),128))])],40,Be))}}),je="";S.D3NetworkGraph=Re,S.useSimulation=ft,Object.defineProperty(S,Symbol.toStringTag,{value:"Module"})});
