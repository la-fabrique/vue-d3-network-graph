(function(L,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("vue"),require("@vueuse/core")):typeof define=="function"&&define.amd?define(["exports","vue","@vueuse/core"],o):(L=typeof globalThis<"u"?globalThis:L||self,o(L["vue-d3-network-graph"]={},L.Vue,L.VueUseCore))})(this,function(L,o,ft){"use strict";function at(t,e){const n=o.ref(void 0),r=o.reactive({x:0,y:0}),i=h=>{let w,x=0;return h instanceof MouseEvent?(w=h.clientX,x=h.clientY):h instanceof TouchEvent&&(w=h.touches[0].clientX,x=h.touches[0].clientY),{x:w||0,y:x||0}},l=(h,w)=>o.toValue(e)?(()=>{n.value=w,f(h,t.value.nodes()[w])})():void 0,f=(h,w)=>{let x=0,a=0;if(h&&w&&(w!=null&&w.x)&&(w!=null&&w.y)){const m=i(h);x=m.x?m.x-w.x:w.x,a=m.y?m.y-w.y:w.y}r.x=x,r.y=a},s=()=>{if(n.value!==void 0){const h=t.value.nodes()[n.value];h.fx=null,h.fy=null,y()}},y=()=>{n.value=void 0,t.value.alpha(.1),t.value.restart(),f()};return{dragStart:l,dragEnd:s,move:h=>{const w=i(h);n.value!=null&&t.value.nodes()[n.value]&&(t.value.restart(),t.value.alpha(.5),t.value.nodes()[n.value].fx=w.x-r.x,t.value.nodes()[n.value].fy=w.y-r.y)}}}const ct=20,ut=10;function ht(t){const e=()=>{var u;return((u=o.toValue(t))==null?void 0:u.size)||ct},n=()=>{var u,h;return((h=(u=o.toValue(t))==null?void 0:u.font)==null?void 0:h.size)||ut},r=u=>u.size||e(),i=u=>u.width||e(),l=u=>u.height||u.size||e(),f=u=>u.color?"fill: "+u.color:"",s=(u,h=[])=>{const w=u.cssClass?u.cssClass:[];return w.push("node"),h.forEach(x=>w.push(x)),(u.fx||u.fy)&&w.push("pinned"),w};return{label:o.computed(()=>({font:{size:n()},offset:{x:e()/2+n()/2,y:n()/2}})),getSize:r,getWidth:i,getHeight:l,getStyle:f,getClass:s}}const gt=2;function yt(t){const e=()=>{var f;return((f=o.toValue(t))==null?void 0:f.width)||gt};return{getPath:f=>{var s,y,u,h;if(typeof f.source!="number"&&typeof f.source!="string"&&typeof f.target!="number"&&typeof f.target!="string"){const w={M:[((s=f==null?void 0:f.source)==null?void 0:s.x)||0,((y=f==null?void 0:f.source)==null?void 0:y.y)||0],X:[((u=f==null?void 0:f.target)==null?void 0:u.x)||0,((h=f==null?void 0:f.target)==null?void 0:h.y)||0]};return"M "+w.M.join(" ")+" L"+w.X.join(" ")}},getAttrs:f=>({"stroke-width":e()}),getClass:f=>["link"],getStyle:f=>f.color?{stroke:f.color}:{}}}function pt(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Q(this.cover(e,n),e,n,t)}function Q(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,l=t._root,f={data:r},s=t._x0,y=t._y0,u=t._x1,h=t._y1,w,x,a,m,g,c,p,d;if(!l)return t._root=f,t;for(;l.length;)if((g=e>=(w=(s+u)/2))?s=w:u=w,(c=n>=(x=(y+h)/2))?y=x:h=x,i=l,!(l=l[p=c<<1|g]))return i[p]=f,t;if(a=+t._x.call(null,l.data),m=+t._y.call(null,l.data),e===a&&n===m)return f.next=l,i?i[p]=f:t._root=f,t;do i=i?i[p]=new Array(4):t._root=new Array(4),(g=e>=(w=(s+u)/2))?s=w:u=w,(c=n>=(x=(y+h)/2))?y=x:h=x;while((p=c<<1|g)===(d=(m>=x)<<1|a>=w));return i[d]=l,i[p]=f,t}function wt(t){var e,n,r=t.length,i,l,f=new Array(r),s=new Array(r),y=1/0,u=1/0,h=-1/0,w=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(l=+this._y.call(null,e))||(f[n]=i,s[n]=l,i<y&&(y=i),i>h&&(h=i),l<u&&(u=l),l>w&&(w=l));if(y>h||u>w)return this;for(this.cover(y,u).cover(h,w),n=0;n<r;++n)Q(this,f[n],s[n],t[n]);return this}function xt(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,l=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,l=(r=Math.floor(e))+1;else{for(var f=i-n||1,s=this._root,y,u;n>t||t>=i||r>e||e>=l;)switch(u=(e<r)<<1|t<n,y=new Array(4),y[u]=s,s=y,f*=2,u){case 0:i=n+f,l=r+f;break;case 1:n=i-f,l=r+f;break;case 2:i=n+f,r=l-f;break;case 3:n=i-f,r=l-f;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=l,this}function dt(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function _t(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function k(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function mt(t,e,n){var r,i=this._x0,l=this._y0,f,s,y,u,h=this._x1,w=this._y1,x=[],a=this._root,m,g;for(a&&x.push(new k(a,i,l,h,w)),n==null?n=1/0:(i=t-n,l=e-n,h=t+n,w=e+n,n*=n);m=x.pop();)if(!(!(a=m.node)||(f=m.x0)>h||(s=m.y0)>w||(y=m.x1)<i||(u=m.y1)<l))if(a.length){var c=(f+y)/2,p=(s+u)/2;x.push(new k(a[3],c,p,y,u),new k(a[2],f,p,c,u),new k(a[1],c,s,y,p),new k(a[0],f,s,c,p)),(g=(e>=p)<<1|t>=c)&&(m=x[x.length-1],x[x.length-1]=x[x.length-1-g],x[x.length-1-g]=m)}else{var d=t-+this._x.call(null,a.data),N=e-+this._y.call(null,a.data),_=d*d+N*N;if(_<n){var A=Math.sqrt(n=_);i=t-A,l=e-A,h=t+A,w=e+A,r=a.data}}return r}function vt(t){if(isNaN(h=+this._x.call(null,t))||isNaN(w=+this._y.call(null,t)))return this;var e,n=this._root,r,i,l,f=this._x0,s=this._y0,y=this._x1,u=this._y1,h,w,x,a,m,g,c,p;if(!n)return this;if(n.length)for(;;){if((m=h>=(x=(f+y)/2))?f=x:y=x,(g=w>=(a=(s+u)/2))?s=a:u=a,e=n,!(n=n[c=g<<1|m]))return this;if(!n.length)break;(e[c+1&3]||e[c+2&3]||e[c+3&3])&&(r=e,p=c)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(l=n.next)&&delete n.next,i?(l?i.next=l:delete i.next,this):e?(l?e[c]=l:delete e[c],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[p]=n:this._root=n),this):(this._root=l,this)}function Nt(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function At(){return this._root}function Mt(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Et(t){var e=[],n,r=this._root,i,l,f,s,y;for(r&&e.push(new k(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,l=n.x0,f=n.y0,s=n.x1,y=n.y1)&&r.length){var u=(l+s)/2,h=(f+y)/2;(i=r[3])&&e.push(new k(i,u,h,s,y)),(i=r[2])&&e.push(new k(i,l,h,u,y)),(i=r[1])&&e.push(new k(i,u,f,s,h)),(i=r[0])&&e.push(new k(i,l,f,u,h))}return this}function kt(t){var e=[],n=[],r;for(this._root&&e.push(new k(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var l,f=r.x0,s=r.y0,y=r.x1,u=r.y1,h=(f+y)/2,w=(s+u)/2;(l=i[0])&&e.push(new k(l,f,s,h,w)),(l=i[1])&&e.push(new k(l,h,s,y,w)),(l=i[2])&&e.push(new k(l,f,w,h,u)),(l=i[3])&&e.push(new k(l,h,w,y,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Tt(t){return t[0]}function Ct(t){return arguments.length?(this._x=t,this):this._x}function Bt(t){return t[1]}function bt(t){return arguments.length?(this._y=t,this):this._y}function Z(t,e,n){var r=new U(e??Tt,n??Bt,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function U(t,e,n,r,i,l){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=l,this._root=void 0}function K(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var T=Z.prototype=U.prototype;T.copy=function(){var t=new U(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=K(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=K(r));return t},T.add=pt,T.addAll=wt,T.cover=xt,T.data=dt,T.extent=_t,T.find=mt,T.remove=vt,T.removeAll=Nt,T.root=At,T.size=Mt,T.visit=Et,T.visitAfter=kt,T.x=Ct,T.y=bt;function b(t){return function(){return t}}function P(t){return(t()-.5)*1e-6}function zt(t){return t.index}function J(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function St(t){var e=zt,n=w,r,i=b(30),l,f,s,y,u,h=1;t==null&&(t=[]);function w(c){return 1/Math.min(s[c.source.index],s[c.target.index])}function x(c){for(var p=0,d=t.length;p<h;++p)for(var N=0,_,A,M,E,C,S,z;N<d;++N)_=t[N],A=_.source,M=_.target,E=M.x+M.vx-A.x-A.vx||P(u),C=M.y+M.vy-A.y-A.vy||P(u),S=Math.sqrt(E*E+C*C),S=(S-l[N])/S*c*r[N],E*=S,C*=S,M.vx-=E*(z=y[N]),M.vy-=C*z,A.vx+=E*(z=1-z),A.vy+=C*z}function a(){if(f){var c,p=f.length,d=t.length,N=new Map(f.map((A,M)=>[e(A,M,f),A])),_;for(c=0,s=new Array(p);c<d;++c)_=t[c],_.index=c,typeof _.source!="object"&&(_.source=J(N,_.source)),typeof _.target!="object"&&(_.target=J(N,_.target)),s[_.source.index]=(s[_.source.index]||0)+1,s[_.target.index]=(s[_.target.index]||0)+1;for(c=0,y=new Array(d);c<d;++c)_=t[c],y[c]=s[_.source.index]/(s[_.source.index]+s[_.target.index]);r=new Array(d),m(),l=new Array(d),g()}}function m(){if(f)for(var c=0,p=t.length;c<p;++c)r[c]=+n(t[c],c,t)}function g(){if(f)for(var c=0,p=t.length;c<p;++c)l[c]=+i(t[c],c,t)}return x.initialize=function(c,p){f=c,u=p,a()},x.links=function(c){return arguments.length?(t=c,a(),x):t},x.id=function(c){return arguments.length?(e=c,x):e},x.iterations=function(c){return arguments.length?(h=+c,x):h},x.strength=function(c){return arguments.length?(n=typeof c=="function"?c:b(+c),m(),x):n},x.distance=function(c){return arguments.length?(i=typeof c=="function"?c:b(+c),g(),x):i},x}var Dt={value:()=>{}};function tt(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new H(n)}function H(t){this._=t}function Ft(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}H.prototype=tt.prototype={constructor:H,on:function(t,e){var n=this._,r=Ft(t+"",n),i,l=-1,f=r.length;if(arguments.length<2){for(;++l<f;)if((i=(t=r[l]).type)&&(i=Lt(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<f;)if(i=(t=r[l]).type)n[i]=et(n[i],t.name,e);else if(e==null)for(i in n)n[i]=et(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new H(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,l;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],r=0,i=l.length;r<i;++r)l[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,l=r.length;i<l;++i)r[i].value.apply(e,n)}};function Lt(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function et(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Dt,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var I=0,O=0,R=0,nt=1e3,X,j,G=0,V=0,q=0,Y=typeof performance=="object"&&performance.now?performance:Date,rt=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function it(){return V||(rt(Vt),V=Y.now()+q)}function Vt(){V=0}function W(){this._call=this._time=this._next=null}W.prototype=ot.prototype={constructor:W,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?it():+n)+(e==null?0:+e),!this._next&&j!==this&&(j?j._next=this:X=this,j=this),this._call=t,this._time=n,$()},stop:function(){this._call&&(this._call=null,this._time=1/0,$())}};function ot(t,e,n){var r=new W;return r.restart(t,e,n),r}function Pt(){it(),++I;for(var t=X,e;t;)(e=V-t._time)>=0&&t._call.call(void 0,e),t=t._next;--I}function st(){V=(G=Y.now())+q,I=O=0;try{Pt()}finally{I=0,Ot(),V=0}}function It(){var t=Y.now(),e=t-G;e>nt&&(q-=e,G=t)}function Ot(){for(var t,e=X,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:X=n);j=t,$(r)}function $(t){if(!I){O&&(O=clearTimeout(O));var e=t-V;e>24?(t<1/0&&(O=setTimeout(st,t-Y.now()-q)),R&&(R=clearInterval(R))):(R||(G=Y.now(),R=setInterval(It,nt)),I=1,rt(st))}}const Rt=1664525,jt=1013904223,lt=4294967296;function Yt(){let t=1;return()=>(t=(Rt*t+jt)%lt)/lt}function Ht(t){return t.x}function Xt(t){return t.y}var Gt=10,qt=Math.PI*(3-Math.sqrt(5));function Ut(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),l=0,f=.6,s=new Map,y=ot(w),u=tt("tick","end"),h=Yt();t==null&&(t=[]);function w(){x(),u.call("tick",e),n<r&&(y.stop(),u.call("end",e))}function x(g){var c,p=t.length,d;g===void 0&&(g=1);for(var N=0;N<g;++N)for(n+=(l-n)*i,s.forEach(function(_){_(n)}),c=0;c<p;++c)d=t[c],d.fx==null?d.x+=d.vx*=f:(d.x=d.fx,d.vx=0),d.fy==null?d.y+=d.vy*=f:(d.y=d.fy,d.vy=0);return e}function a(){for(var g=0,c=t.length,p;g<c;++g){if(p=t[g],p.index=g,p.fx!=null&&(p.x=p.fx),p.fy!=null&&(p.y=p.fy),isNaN(p.x)||isNaN(p.y)){var d=Gt*Math.sqrt(.5+g),N=g*qt;p.x=d*Math.cos(N),p.y=d*Math.sin(N)}(isNaN(p.vx)||isNaN(p.vy))&&(p.vx=p.vy=0)}}function m(g){return g.initialize&&g.initialize(t,h),g}return a(),e={tick:x,restart:function(){return y.restart(w),e},stop:function(){return y.stop(),e},nodes:function(g){return arguments.length?(t=g,a(),s.forEach(m),e):t},alpha:function(g){return arguments.length?(n=+g,e):n},alphaMin:function(g){return arguments.length?(r=+g,e):r},alphaDecay:function(g){return arguments.length?(i=+g,e):+i},alphaTarget:function(g){return arguments.length?(l=+g,e):l},velocityDecay:function(g){return arguments.length?(f=1-g,e):1-f},randomSource:function(g){return arguments.length?(h=g,s.forEach(m),e):h},force:function(g,c){return arguments.length>1?(c==null?s.delete(g):s.set(g,m(c)),e):s.get(g)},find:function(g,c,p){var d=0,N=t.length,_,A,M,E,C;for(p==null?p=1/0:p*=p,d=0;d<N;++d)E=t[d],_=g-E.x,A=c-E.y,M=_*_+A*A,M<p&&(C=E,p=M);return C},on:function(g,c){return arguments.length>1?(u.on(g,c),e):u.on(g)}}}function Wt(){var t,e,n,r,i=b(-30),l,f=1,s=1/0,y=.81;function u(a){var m,g=t.length,c=Z(t,Ht,Xt).visitAfter(w);for(r=a,m=0;m<g;++m)e=t[m],c.visit(x)}function h(){if(t){var a,m=t.length,g;for(l=new Array(m),a=0;a<m;++a)g=t[a],l[g.index]=+i(g,a,t)}}function w(a){var m=0,g,c,p=0,d,N,_;if(a.length){for(d=N=_=0;_<4;++_)(g=a[_])&&(c=Math.abs(g.value))&&(m+=g.value,p+=c,d+=c*g.x,N+=c*g.y);a.x=d/p,a.y=N/p}else{g=a,g.x=g.data.x,g.y=g.data.y;do m+=l[g.data.index];while(g=g.next)}a.value=m}function x(a,m,g,c){if(!a.value)return!0;var p=a.x-e.x,d=a.y-e.y,N=c-m,_=p*p+d*d;if(N*N/y<_)return _<s&&(p===0&&(p=P(n),_+=p*p),d===0&&(d=P(n),_+=d*d),_<f&&(_=Math.sqrt(f*_)),e.vx+=p*a.value*r/_,e.vy+=d*a.value*r/_),!0;if(a.length||_>=s)return;(a.data!==e||a.next)&&(p===0&&(p=P(n),_+=p*p),d===0&&(d=P(n),_+=d*d),_<f&&(_=Math.sqrt(f*_)));do a.data!==e&&(N=l[a.data.index]*r/_,e.vx+=p*N,e.vy+=d*N);while(a=a.next)}return u.initialize=function(a,m){t=a,n=m,h()},u.strength=function(a){return arguments.length?(i=typeof a=="function"?a:b(+a),h(),u):i},u.distanceMin=function(a){return arguments.length?(f=a*a,u):Math.sqrt(f)},u.distanceMax=function(a){return arguments.length?(s=a*a,u):Math.sqrt(s)},u.theta=function(a){return arguments.length?(y=a*a,u):Math.sqrt(y)},u}function $t(t){var e=b(.1),n,r,i;typeof t!="function"&&(t=b(t==null?0:+t));function l(s){for(var y=0,u=n.length,h;y<u;++y)h=n[y],h.vx+=(i[y]-h.x)*r[y]*s}function f(){if(n){var s,y=n.length;for(r=new Array(y),i=new Array(y),s=0;s<y;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return l.initialize=function(s){n=s,f()},l.strength=function(s){return arguments.length?(e=typeof s=="function"?s:b(+s),f(),l):e},l.x=function(s){return arguments.length?(t=typeof s=="function"?s:b(+s),f(),l):t},l}function Qt(t){var e=b(.1),n,r,i;typeof t!="function"&&(t=b(t==null?0:+t));function l(s){for(var y=0,u=n.length,h;y<u;++y)h=n[y],h.vy+=(i[y]-h.y)*r[y]*s}function f(){if(n){var s,y=n.length;for(r=new Array(y),i=new Array(y),s=0;s<y;++s)r[s]=isNaN(i[s]=+t(n[s],s,n))?0:+e(n[s],s,n)}}return l.initialize=function(s){n=s,f()},l.strength=function(s){return arguments.length?(e=typeof s=="function"?s:b(+s),f(),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:b(+s),f(),l):t},l}const Zt=.5,Kt=.5,Jt=-1e3,te="X",ee="Y",ne="charge",re="link";function ie(t,e,n,r){const i=()=>{var a;return((a=o.toValue(r))==null?void 0:a.force.x)||Zt},l=()=>{var a;return((a=o.toValue(r))==null?void 0:a.force.y)||Kt},f=()=>{var a;return((a=o.toValue(r))==null?void 0:a.charge)||Jt},s=()=>[...o.toValue(t)],y=()=>[...o.toValue(e)],u=()=>o.toValue(n)||{width:0,height:0},h=()=>{x.value.stop(),x.value=w(),x.value.restart()},w=()=>{const a=Ut().stop().alpha(.5).nodes(s());return a.force(te,$t(u().width/2).strength(i())),a.force(ee,Qt(u().height/2).strength(l())),a.force(ne,Wt().strength(f())),a.force(re,St(y()).id(m=>{if(!m.id)throw new Error("Node id is undefined");return m.id})),a},x=o.ref(w());return o.watch([()=>o.toValue(t).length,()=>o.toValue(e).length,n],()=>{h()}),{simulation:x,animate:h}}const oe=(t,e)=>{var r,i,l,f,s,y,u,h,w,x,a,m,g,c,p,d,N,_,A,M,E,C;return{css:{node:{stroke:((r=t==null?void 0:t.colors)==null?void 0:r.stroke)||"#E2EB98",fill:((i=t==null?void 0:t.colors)==null?void 0:i.fill)||"#93A392",selected:{stroke:((f=(l=t==null?void 0:t.colors)==null?void 0:l.selected)==null?void 0:f.stroke)||"#9DC4B5",fill:(y=(s=t==null?void 0:t.colors)==null?void 0:s.selected)==null?void 0:y.fill},hover:{stroke:"#9DC4B5",fill:(h=(u=t==null?void 0:t.colors)==null?void 0:u.hover)==null?void 0:h.fill},pinned:{stroke:"#9DC4B5",fill:(x=(w=t==null?void 0:t.colors)==null?void 0:w.pinned)==null?void 0:x.fill},label:{fill:((m=(a=t==null?void 0:t.colors)==null?void 0:a.label)==null?void 0:m.fill)||"#93A392"}},link:{stroke:((g=e==null?void 0:e.colors)==null?void 0:g.stroke)||"#BAD9A2",fill:(c=e==null?void 0:e.colors)==null?void 0:c.fill,selected:{stroke:((d=(p=e==null?void 0:e.colors)==null?void 0:p.selected)==null?void 0:d.stroke)||"#9DC4B5",fill:(_=(N=e==null?void 0:e.colors)==null?void 0:N.selected)==null?void 0:_.fill},hover:{stroke:"#9DC4B5",fill:(M=(A=e==null?void 0:e.colors)==null?void 0:A.hover)==null?void 0:M.fill},label:{fill:((C=(E=e==null?void 0:e.colors)==null?void 0:E.label)==null?void 0:C.fill)||"#93A392"}}}}},se=["viewBox"],le={id:"l-links",class:"links"},fe=["id","d","onClick","onTouchstartPassive"],ae={id:"l-nodes",class:"nodes"},ce=["viewBox","width","height","x","y","title","onClick","onTouchendPassive","onMousedown","onTouchstart","innerHTML"],ue=["r","cx","cy","title","onClick","onTouchendPassive","onMousedown","onTouchstart"],he={id:"node-labels",class:"labels"},ge=["x","y","font-size","stroke-width"],ye=o.defineComponent({__name:"D3NetworkGraph",props:{nodes:{type:Array,required:!0},links:{type:Array,required:!0},options:{type:Object,default:void 0}},emits:["node-click","link-click"],setup(t,{emit:e}){var _,A,M,E,C,S;const n=t;o.useCssVars(z=>({"5dd494eb":o.unref(r).node.stroke,"7c85b614":o.unref(r).node.fill,dc7d1dbe:o.unref(r).node.selected.stroke||o.unref(r).node.stroke,"7dd7427e":o.unref(r).node.selected.fill||o.unref(r).node.fill,"3bde7e44":o.unref(r).node.pinned.stroke||o.unref(r).node.stroke,"4f59d604":o.unref(r).node.pinned.fill||o.unref(r).node.fill,e753a608:o.unref(r).node.hover.stroke||o.unref(r).node.stroke,"58ff401c":o.unref(r).node.hover.fill||o.unref(r).node.fill,"9774281a":o.unref(r).link.stroke,"45289dfe":o.unref(r).link.fill,"7e38e190":o.unref(r).link.selected.stroke,"90b3524a":o.unref(r).link.selected.fill,"6654c39d":o.unref(r).node.hover.stroke,"8d054fb0":o.unref(r).node.hover.fill,"7121ef10":o.unref(r).link.label.fill,47107570:o.unref(r).node.label.fill}));const{css:r}=oe((_=n.options)==null?void 0:_.nodes,(A=n.options)==null?void 0:A.links),i=o.ref(null),l=o.reactive({width:100,height:100});ft.useResizeObserver(i,z=>{const D=z[0];l.width=D.contentRect.width,l.height=D.contentRect.height});const{simulation:f}=ie(n.nodes,n.links,l,(M=n.options)==null?void 0:M.simulation),{dragStart:s,dragEnd:y,move:u}=at(f,(E=n.options)==null?void 0:E.draggables),{label:h,getSize:w,getWidth:x,getClass:a,getHeight:m,getStyle:g}=ht((C=n.options)==null?void 0:C.nodes),{getPath:c,getAttrs:p,getClass:d,getStyle:N}=yt((S=n.options)==null?void 0:S.links);return(z,D)=>(o.openBlock(),o.createElementBlock("svg",{ref_key:"svg",ref:i,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMinYMin",viewBox:`0 0 ${l.width} ${l.height}`,style:{display:"block",fill:"none",stroke:"none",width:"100%",overflow:"hidden"},onMouseup:D[0]||(D[0]=(...v)=>o.unref(y)&&o.unref(y)(...v)),onTouchendPassive:D[1]||(D[1]=(...v)=>o.unref(y)&&o.unref(y)(...v)),onTouchstartPassive:()=>{},onMousemove:D[2]||(D[2]=(...v)=>o.unref(u)&&o.unref(u)(...v))},[o.createElementVNode("g",le,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(t.links,v=>(o.openBlock(),o.createElementBlock("path",o.mergeProps({id:v.id,key:v.id,d:o.unref(c)(v)},o.unref(p)(v),{class:o.unref(d)(v.id),style:o.unref(N)(v),onClick:F=>e("link-click",F,v),onTouchstartPassive:F=>e("link-click",F,v)}),null,16,fe))),128))]),o.createElementVNode("g",ae,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(t.nodes,(v,F)=>(o.openBlock(),o.createElementBlock(o.Fragment,{key:F},[v.innerSVG?(o.openBlock(),o.createElementBlock("svg",{key:0,viewBox:v.innerSVG.viewBox,width:o.unref(x)(v),height:o.unref(m)(v),x:(v.x||0)-o.unref(x)(v)/2,y:(v.y||0)-o.unref(m)(v)/2,style:o.normalizeStyle(o.unref(g)(v)),title:v.name,class:o.normalizeClass(o.unref(a)(v,["node-svg"])),onClick:B=>e("node-click",B,v),onTouchendPassive:B=>e("node-click",B,v),onMousedown:o.withModifiers(B=>o.unref(s)(B,F),["prevent"]),onTouchstart:o.withModifiers(B=>o.unref(s)(B,F),["prevent"]),innerHTML:v.innerSVG.innerHtml},null,46,ce)):(o.openBlock(),o.createElementBlock("circle",{key:1,r:o.unref(w)(v)/2,cx:v.x||0,cy:v.y||0,style:o.normalizeStyle(o.unref(g)(v)),title:v.name,class:o.normalizeClass(o.unref(a)(v)),onClick:B=>z.$emit("node-click",B,v),onTouchendPassive:B=>z.$emit("node-click",B,v),onMousedown:o.withModifiers(B=>o.unref(s)(B,F),["prevent"]),onTouchstart:o.withModifiers(B=>o.unref(s)(B,F),["prevent"])},null,46,ue))],64))),128))]),o.createElementVNode("g",he,[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(t.nodes,v=>(o.openBlock(),o.createElementBlock("text",{key:v.id,class:"node-label",x:(v.x||0)+o.unref(w)(v)/2+o.unref(h).font.size/2,y:(v.y||0)+o.unref(h).offset.y,"font-size":o.unref(h).font.size,"stroke-width":o.unref(h).font.size/8},o.toDisplayString(v.name),9,ge))),128))])],40,se))}}),pe="";L.D3NetworkGraph=ye,Object.defineProperty(L,Symbol.toStringTag,{value:"Module"})});
