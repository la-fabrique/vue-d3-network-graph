(function(S,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("vue"),require("@vueuse/core")):typeof define=="function"&&define.amd?define(["exports","vue","@vueuse/core"],l):(S=typeof globalThis<"u"?globalThis:S||self,l(S["vue-d3-network-graph"]={},S.Vue,S.VueUseCore))})(this,function(S,l,X){"use strict";function Pt(t,n){const e=l.ref(void 0),r=l.reactive({x:0,y:0}),s=h=>{let w,p=0;return h instanceof MouseEvent?(w=h.clientX,p=h.clientY):h instanceof TouchEvent&&(w=h.touches[0].clientX,p=h.touches[0].clientY),{x:w||0,y:p||0}},i=(h,w)=>n.value?(()=>{e.value=w,f(h,t.value.nodes()[w])})():void 0,f=(h,w)=>{let p=0,y=0;if(h&&w&&(w!=null&&w.x)&&(w!=null&&w.y)){const m=s(h);p=m.x?m.x-w.x:w.x,y=m.y?m.y-w.y:w.y}r.x=p,r.y=y},o=()=>{if(e.value!==void 0){const h=t.value.nodes()[e.value];h.fx=null,h.fy=null,a()}},a=()=>{e.value=void 0,t.value.alpha(.1),t.value.restart(),f()};return{dragStart:i,dragEnd:o,move:h=>{const w=s(h);e.value!=null&&t.value.nodes()[e.value]&&(t.value.restart(),t.value.alpha(.5),t.value.nodes()[e.value].fx=w.x-r.x,t.value.nodes()[e.value].fy=w.y-r.y)}}}function Lt(t){const n=o=>o.size||t.value.size,e=o=>o.width||t.value.size,r=o=>o.height||o.size||t.value.size,s=o=>o.color?"fill: "+o.color:"",i=(o,a=[])=>{const g=o.cssClass?o.cssClass:[];return g.push("node"),a.forEach(h=>g.push(h)),(o.fx||o.fy)&&g.push("pinned"),g};return{label:l.computed(()=>({font:{size:t.value.font.size},offset:{x:t.value.size/2+t.value.font.size/2,y:t.value.font.size/2}})),getSize:n,getWidth:e,getHeight:r,getStyle:s,getClass:i}}function Ft(t){return{getPath:i=>{var f,o,a,g;if(typeof i.source!="number"&&typeof i.source!="string"&&typeof i.target!="number"&&typeof i.target!="string"){const h={M:[((f=i==null?void 0:i.source)==null?void 0:f.x)||0,((o=i==null?void 0:i.source)==null?void 0:o.y)||0],X:[((a=i==null?void 0:i.target)==null?void 0:a.x)||0,((g=i==null?void 0:i.target)==null?void 0:g.y)||0]};return"M "+h.M.join(" ")+" L"+h.X.join(" ")}},getAttrs:i=>({"stroke-width":t.value.width}),getClass:i=>["link"],getStyle:i=>i.color?{stroke:i.color}:{}}}function Rt(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return $(this.cover(n,e),n,e,t)}function $(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var s,i=t._root,f={data:r},o=t._x0,a=t._y0,g=t._x1,h=t._y1,w,p,y,m,u,c,d,x;if(!i)return t._root=f,t;for(;i.length;)if((u=n>=(w=(o+g)/2))?o=w:g=w,(c=e>=(p=(a+h)/2))?a=p:h=p,s=i,!(i=i[d=c<<1|u]))return s[d]=f,t;if(y=+t._x.call(null,i.data),m=+t._y.call(null,i.data),n===y&&e===m)return f.next=i,s?s[d]=f:t._root=f,t;do s=s?s[d]=new Array(4):t._root=new Array(4),(u=n>=(w=(o+g)/2))?o=w:g=w,(c=e>=(p=(a+h)/2))?a=p:h=p;while((d=c<<1|u)===(x=(m>=p)<<1|y>=w));return s[x]=i,s[d]=f,t}function Ot(t){var n,e,r=t.length,s,i,f=new Array(r),o=new Array(r),a=1/0,g=1/0,h=-1/0,w=-1/0;for(e=0;e<r;++e)isNaN(s=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(f[e]=s,o[e]=i,s<a&&(a=s),s>h&&(h=s),i<g&&(g=i),i>w&&(w=i));if(a>h||g>w)return this;for(this.cover(a,g).cover(h,w),e=0;e<r;++e)$(this,f[e],o[e],t[e]);return this}function It(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,s=this._x1,i=this._y1;if(isNaN(e))s=(e=Math.floor(t))+1,i=(r=Math.floor(n))+1;else{for(var f=s-e||1,o=this._root,a,g;e>t||t>=s||r>n||n>=i;)switch(g=(n<r)<<1|t<e,a=new Array(4),a[g]=o,o=a,f*=2,g){case 0:s=e+f,i=r+f;break;case 1:e=s-f,i=r+f;break;case 2:s=e+f,r=i-f;break;case 3:e=s-f,r=i-f;break}this._root&&this._root.length&&(this._root=o)}return this._x0=e,this._y0=r,this._x1=s,this._y1=i,this}function jt(){var t=[];return this.visit(function(n){if(!n.length)do t.push(n.data);while(n=n.next)}),t}function Ht(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function b(t,n,e,r,s){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=s}function Yt(t,n,e){var r,s=this._x0,i=this._y0,f,o,a,g,h=this._x1,w=this._y1,p=[],y=this._root,m,u;for(y&&p.push(new b(y,s,i,h,w)),e==null?e=1/0:(s=t-e,i=n-e,h=t+e,w=n+e,e*=e);m=p.pop();)if(!(!(y=m.node)||(f=m.x0)>h||(o=m.y0)>w||(a=m.x1)<s||(g=m.y1)<i))if(y.length){var c=(f+a)/2,d=(o+g)/2;p.push(new b(y[3],c,d,a,g),new b(y[2],f,d,c,g),new b(y[1],c,o,a,d),new b(y[0],f,o,c,d)),(u=(n>=d)<<1|t>=c)&&(m=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=m)}else{var x=t-+this._x.call(null,y.data),k=n-+this._y.call(null,y.data),_=x*x+k*k;if(_<e){var N=Math.sqrt(e=_);s=t-N,i=n-N,h=t+N,w=n+N,r=y.data}}return r}function Vt(t){if(isNaN(h=+this._x.call(null,t))||isNaN(w=+this._y.call(null,t)))return this;var n,e=this._root,r,s,i,f=this._x0,o=this._y0,a=this._x1,g=this._y1,h,w,p,y,m,u,c,d;if(!e)return this;if(e.length)for(;;){if((m=h>=(p=(f+a)/2))?f=p:a=p,(u=w>=(y=(o+g)/2))?o=y:g=y,n=e,!(e=e[c=u<<1|m]))return this;if(!e.length)break;(n[c+1&3]||n[c+2&3]||n[c+3&3])&&(r=n,d=c)}for(;e.data!==t;)if(s=e,!(e=e.next))return this;return(i=e.next)&&delete e.next,s?(i?s.next=i:delete s.next,this):n?(i?n[c]=i:delete n[c],(e=n[0]||n[1]||n[2]||n[3])&&e===(n[3]||n[2]||n[1]||n[0])&&!e.length&&(r?r[d]=e:this._root=e),this):(this._root=i,this)}function Gt(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}function Xt(){return this._root}function Ut(){var t=0;return this.visit(function(n){if(!n.length)do++t;while(n=n.next)}),t}function qt(t){var n=[],e,r=this._root,s,i,f,o,a;for(r&&n.push(new b(r,this._x0,this._y0,this._x1,this._y1));e=n.pop();)if(!t(r=e.node,i=e.x0,f=e.y0,o=e.x1,a=e.y1)&&r.length){var g=(i+o)/2,h=(f+a)/2;(s=r[3])&&n.push(new b(s,g,h,o,a)),(s=r[2])&&n.push(new b(s,i,h,g,a)),(s=r[1])&&n.push(new b(s,g,f,o,h)),(s=r[0])&&n.push(new b(s,i,f,g,h))}return this}function Wt(t){var n=[],e=[],r;for(this._root&&n.push(new b(this._root,this._x0,this._y0,this._x1,this._y1));r=n.pop();){var s=r.node;if(s.length){var i,f=r.x0,o=r.y0,a=r.x1,g=r.y1,h=(f+a)/2,w=(o+g)/2;(i=s[0])&&n.push(new b(i,f,o,h,w)),(i=s[1])&&n.push(new b(i,h,o,a,w)),(i=s[2])&&n.push(new b(i,f,w,h,g)),(i=s[3])&&n.push(new b(i,h,w,a,g))}e.push(r)}for(;r=e.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function $t(t){return t[0]}function Kt(t){return arguments.length?(this._x=t,this):this._x}function Qt(t){return t[1]}function Zt(t){return arguments.length?(this._y=t,this):this._y}function K(t,n,e){var r=new U(n??$t,e??Qt,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function U(t,n,e,r,s,i){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=s,this._y1=i,this._root=void 0}function Q(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var C=K.prototype=U.prototype;C.copy=function(){var t=new U(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,e,r;if(!n)return t;if(!n.length)return t._root=Q(n),t;for(e=[{source:n,target:t._root=new Array(4)}];n=e.pop();)for(var s=0;s<4;++s)(r=n.source[s])&&(r.length?e.push({source:r,target:n.target[s]=new Array(4)}):n.target[s]=Q(r));return t},C.add=Rt,C.addAll=Ot,C.cover=It,C.data=jt,C.extent=Ht,C.find=Yt,C.remove=Vt,C.removeAll=Gt,C.root=Xt,C.size=Ut,C.visit=qt,C.visitAfter=Wt,C.x=Kt,C.y=Zt;function D(t){return function(){return t}}function L(t){return(t()-.5)*1e-6}function Jt(t){return t.index}function Z(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}function te(t){var n=Jt,e=w,r,s=D(30),i,f,o,a,g,h=1;t==null&&(t=[]);function w(c){return 1/Math.min(o[c.source.index],o[c.target.index])}function p(c){for(var d=0,x=t.length;d<h;++d)for(var k=0,_,N,E,T,M,A,v;k<x;++k)_=t[k],N=_.source,E=_.target,T=E.x+E.vx-N.x-N.vx||L(g),M=E.y+E.vy-N.y-N.vy||L(g),A=Math.sqrt(T*T+M*M),A=(A-i[k])/A*c*r[k],T*=A,M*=A,E.vx-=T*(v=a[k]),E.vy-=M*v,N.vx+=T*(v=1-v),N.vy+=M*v}function y(){if(f){var c,d=f.length,x=t.length,k=new Map(f.map((N,E)=>[n(N,E,f),N])),_;for(c=0,o=new Array(d);c<x;++c)_=t[c],_.index=c,typeof _.source!="object"&&(_.source=Z(k,_.source)),typeof _.target!="object"&&(_.target=Z(k,_.target)),o[_.source.index]=(o[_.source.index]||0)+1,o[_.target.index]=(o[_.target.index]||0)+1;for(c=0,a=new Array(x);c<x;++c)_=t[c],a[c]=o[_.source.index]/(o[_.source.index]+o[_.target.index]);r=new Array(x),m(),i=new Array(x),u()}}function m(){if(f)for(var c=0,d=t.length;c<d;++c)r[c]=+e(t[c],c,t)}function u(){if(f)for(var c=0,d=t.length;c<d;++c)i[c]=+s(t[c],c,t)}return p.initialize=function(c,d){f=c,g=d,y()},p.links=function(c){return arguments.length?(t=c,y(),p):t},p.id=function(c){return arguments.length?(n=c,p):n},p.iterations=function(c){return arguments.length?(h=+c,p):h},p.strength=function(c){return arguments.length?(e=typeof c=="function"?c:D(+c),m(),p):e},p.distance=function(c){return arguments.length?(s=typeof c=="function"?c:D(+c),u(),p):s},p}var ee={value:()=>{}};function J(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new H(e)}function H(t){this._=t}function ne(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",s=e.indexOf(".");if(s>=0&&(r=e.slice(s+1),e=e.slice(0,s)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}H.prototype=J.prototype={constructor:H,on:function(t,n){var e=this._,r=ne(t+"",e),s,i=-1,f=r.length;if(arguments.length<2){for(;++i<f;)if((s=(t=r[i]).type)&&(s=re(e[s],t.name)))return s;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++i<f;)if(s=(t=r[i]).type)e[s]=tt(e[s],t.name,n);else if(n==null)for(s in e)e[s]=tt(e[s],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new H(t)},call:function(t,n){if((s=arguments.length-2)>0)for(var e=new Array(s),r=0,s,i;r<s;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,s=i.length;r<s;++r)i[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,i=r.length;s<i;++s)r[s].value.apply(n,e)}};function re(t,n){for(var e=0,r=t.length,s;e<r;++e)if((s=t[e]).name===n)return s.value}function tt(t,n,e){for(var r=0,s=t.length;r<s;++r)if(t[r].name===n){t[r]=ee,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var F=0,R=0,O=0,et=1e3,Y,I,V=0,P=0,G=0,j=typeof performance=="object"&&performance.now?performance:Date,nt=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function rt(){return P||(nt(ie),P=j.now()+G)}function ie(){P=0}function q(){this._call=this._time=this._next=null}q.prototype=it.prototype={constructor:q,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?rt():+e)+(n==null?0:+n),!this._next&&I!==this&&(I?I._next=this:Y=this,I=this),this._call=t,this._time=e,W()},stop:function(){this._call&&(this._call=null,this._time=1/0,W())}};function it(t,n,e){var r=new q;return r.restart(t,n,e),r}function oe(){rt(),++F;for(var t=Y,n;t;)(n=P-t._time)>=0&&t._call.call(void 0,n),t=t._next;--F}function ot(){P=(V=j.now())+G,F=R=0;try{oe()}finally{F=0,le(),P=0}}function se(){var t=j.now(),n=t-V;n>et&&(G-=n,V=t)}function le(){for(var t,n=Y,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Y=e);I=t,W(r)}function W(t){if(!F){R&&(R=clearTimeout(R));var n=t-P;n>24?(t<1/0&&(R=setTimeout(ot,t-j.now()-G)),O&&(O=clearInterval(O))):(O||(V=j.now(),O=setInterval(se,et)),F=1,nt(ot))}}const ae=1664525,fe=1013904223,st=4294967296;function ce(){let t=1;return()=>(t=(ae*t+fe)%st)/st}function ue(t){return t.x}function he(t){return t.y}var ge=10,ye=Math.PI*(3-Math.sqrt(5));function de(t){var n,e=1,r=.001,s=1-Math.pow(r,1/300),i=0,f=.6,o=new Map,a=it(w),g=J("tick","end"),h=ce();t==null&&(t=[]);function w(){p(),g.call("tick",n),e<r&&(a.stop(),g.call("end",n))}function p(u){var c,d=t.length,x;u===void 0&&(u=1);for(var k=0;k<u;++k)for(e+=(i-e)*s,o.forEach(function(_){_(e)}),c=0;c<d;++c)x=t[c],x.fx==null?x.x+=x.vx*=f:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=f:(x.y=x.fy,x.vy=0);return n}function y(){for(var u=0,c=t.length,d;u<c;++u){if(d=t[u],d.index=u,d.fx!=null&&(d.x=d.fx),d.fy!=null&&(d.y=d.fy),isNaN(d.x)||isNaN(d.y)){var x=ge*Math.sqrt(.5+u),k=u*ye;d.x=x*Math.cos(k),d.y=x*Math.sin(k)}(isNaN(d.vx)||isNaN(d.vy))&&(d.vx=d.vy=0)}}function m(u){return u.initialize&&u.initialize(t,h),u}return y(),n={tick:p,restart:function(){return a.restart(w),n},stop:function(){return a.stop(),n},nodes:function(u){return arguments.length?(t=u,y(),o.forEach(m),n):t},alpha:function(u){return arguments.length?(e=+u,n):e},alphaMin:function(u){return arguments.length?(r=+u,n):r},alphaDecay:function(u){return arguments.length?(s=+u,n):+s},alphaTarget:function(u){return arguments.length?(i=+u,n):i},velocityDecay:function(u){return arguments.length?(f=1-u,n):1-f},randomSource:function(u){return arguments.length?(h=u,o.forEach(m),n):h},force:function(u,c){return arguments.length>1?(c==null?o.delete(u):o.set(u,m(c)),n):o.get(u)},find:function(u,c,d){var x=0,k=t.length,_,N,E,T,M;for(d==null?d=1/0:d*=d,x=0;x<k;++x)T=t[x],_=u-T.x,N=c-T.y,E=_*_+N*N,E<d&&(M=T,d=E);return M},on:function(u,c){return arguments.length>1?(g.on(u,c),n):g.on(u)}}}function we(){var t,n,e,r,s=D(-30),i,f=1,o=1/0,a=.81;function g(y){var m,u=t.length,c=K(t,ue,he).visitAfter(w);for(r=y,m=0;m<u;++m)n=t[m],c.visit(p)}function h(){if(t){var y,m=t.length,u;for(i=new Array(m),y=0;y<m;++y)u=t[y],i[u.index]=+s(u,y,t)}}function w(y){var m=0,u,c,d=0,x,k,_;if(y.length){for(x=k=_=0;_<4;++_)(u=y[_])&&(c=Math.abs(u.value))&&(m+=u.value,d+=c,x+=c*u.x,k+=c*u.y);y.x=x/d,y.y=k/d}else{u=y,u.x=u.data.x,u.y=u.data.y;do m+=i[u.data.index];while(u=u.next)}y.value=m}function p(y,m,u,c){if(!y.value)return!0;var d=y.x-n.x,x=y.y-n.y,k=c-m,_=d*d+x*x;if(k*k/a<_)return _<o&&(d===0&&(d=L(e),_+=d*d),x===0&&(x=L(e),_+=x*x),_<f&&(_=Math.sqrt(f*_)),n.vx+=d*y.value*r/_,n.vy+=x*y.value*r/_),!0;if(y.length||_>=o)return;(y.data!==n||y.next)&&(d===0&&(d=L(e),_+=d*d),x===0&&(x=L(e),_+=x*x),_<f&&(_=Math.sqrt(f*_)));do y.data!==n&&(k=i[y.data.index]*r/_,n.vx+=d*k,n.vy+=x*k);while(y=y.next)}return g.initialize=function(y,m){t=y,e=m,h()},g.strength=function(y){return arguments.length?(s=typeof y=="function"?y:D(+y),h(),g):s},g.distanceMin=function(y){return arguments.length?(f=y*y,g):Math.sqrt(f)},g.distanceMax=function(y){return arguments.length?(o=y*y,g):Math.sqrt(o)},g.theta=function(y){return arguments.length?(a=y*y,g):Math.sqrt(a)},g}function pe(t){var n=D(.1),e,r,s;typeof t!="function"&&(t=D(t==null?0:+t));function i(o){for(var a=0,g=e.length,h;a<g;++a)h=e[a],h.vx+=(s[a]-h.x)*r[a]*o}function f(){if(e){var o,a=e.length;for(r=new Array(a),s=new Array(a),o=0;o<a;++o)r[o]=isNaN(s[o]=+t(e[o],o,e))?0:+n(e[o],o,e)}}return i.initialize=function(o){e=o,f()},i.strength=function(o){return arguments.length?(n=typeof o=="function"?o:D(+o),f(),i):n},i.x=function(o){return arguments.length?(t=typeof o=="function"?o:D(+o),f(),i):t},i}function xe(t){var n=D(.1),e,r,s;typeof t!="function"&&(t=D(t==null?0:+t));function i(o){for(var a=0,g=e.length,h;a<g;++a)h=e[a],h.vy+=(s[a]-h.y)*r[a]*o}function f(){if(e){var o,a=e.length;for(r=new Array(a),s=new Array(a),o=0;o<a;++o)r[o]=isNaN(s[o]=+t(e[o],o,e))?0:+n(e[o],o,e)}}return i.initialize=function(o){e=o,f()},i.strength=function(o){return arguments.length?(n=typeof o=="function"?o:D(+o),f(),i):n},i.y=function(o){return arguments.length?(t=typeof o=="function"?o:D(+o),f(),i):t},i}const _e="X",ve="Y",me="charge",ke="link",lt=.01,at=.1,Ne=Math.log(lt)/Math.log(1-at);function ft(t,n,e,r){const s=l.reactive({nodes:[],links:[]}),i=async()=>{o.value.stop(),s.nodes=t.value.map(a=>l.toRaw(a)),s.links=n.value.map(a=>l.toRaw(a)),o.value=f(),r.value.static?o.value.tick(Ne):o.value.restart()},f=()=>{const a=de().stop().alphaMin(lt).alphaDecay(at).nodes(s.nodes);return a.force(_e,pe(e.value.width/2).strength(r.value.force.x)),a.force(ve,xe(e.value.height/2).strength(r.value.force.y)),a.force(me,we().strength(r.value.force.charge)),a.force(ke,te(s.links).id(g=>{if(!("id"in g))throw new Error("Node id is undefined");return g.id})),a},o=l.ref(f());return X.watchDebounced([()=>t.value.length,()=>n.value.length,e],async()=>i(),{debounce:100,maxWait:1e3}),X.watchDebounced(()=>r.value,async()=>i(),{deep:!0,debounce:100,maxWait:1e3}),{simulation:o,refresh:i,graph:s}}const Ae=.5,Me=.5,Ee=-350,ze=40,Te=10,be=2,Ce=t=>{const n=l.computed(()=>{var i,f,o,a,g,h,w,p,y,m,u,c,d,x,k,_,N,E,T,M,A,v,B,z,ct,ut,ht,gt,yt,dt,wt,pt,xt,_t,vt,mt,kt,Nt,At,Mt,Et,zt,Tt,bt,Ct,Bt,Dt,St;return{node:{stroke:((o=(f=(i=t.value)==null?void 0:i.nodes)==null?void 0:f.colors)==null?void 0:o.stroke)||"#E2EB98",fill:((h=(g=(a=t.value)==null?void 0:a.nodes)==null?void 0:g.colors)==null?void 0:h.fill)||"#93A392",selected:{stroke:((m=(y=(p=(w=t.value)==null?void 0:w.nodes)==null?void 0:p.colors)==null?void 0:y.selected)==null?void 0:m.stroke)||"#9DC4B5",fill:(x=(d=(c=(u=t.value)==null?void 0:u.nodes)==null?void 0:c.colors)==null?void 0:d.selected)==null?void 0:x.fill},hover:{stroke:"#9DC4B5",fill:(E=(N=(_=(k=t.value)==null?void 0:k.nodes)==null?void 0:_.colors)==null?void 0:N.hover)==null?void 0:E.fill},pinned:{stroke:"#9DC4B5",fill:(v=(A=(M=(T=t.value)==null?void 0:T.nodes)==null?void 0:M.colors)==null?void 0:A.pinned)==null?void 0:v.fill},label:{fill:((ut=(ct=(z=(B=t.value)==null?void 0:B.nodes)==null?void 0:z.colors)==null?void 0:ct.label)==null?void 0:ut.fill)||"#93A392"}},link:{stroke:((yt=(gt=(ht=t.value)==null?void 0:ht.links)==null?void 0:gt.colors)==null?void 0:yt.stroke)||"#BAD9A2",fill:(pt=(wt=(dt=t.value)==null?void 0:dt.links)==null?void 0:wt.colors)==null?void 0:pt.fill,selected:{stroke:((mt=(vt=(_t=(xt=t.value)==null?void 0:xt.links)==null?void 0:_t.colors)==null?void 0:vt.selected)==null?void 0:mt.stroke)||"#9DC4B5",fill:(Mt=(At=(Nt=(kt=t.value)==null?void 0:kt.links)==null?void 0:Nt.colors)==null?void 0:At.selected)==null?void 0:Mt.fill},hover:{stroke:"#9DC4B5",fill:(bt=(Tt=(zt=(Et=t.value)==null?void 0:Et.links)==null?void 0:zt.colors)==null?void 0:Tt.hover)==null?void 0:bt.fill},label:{fill:((St=(Dt=(Bt=(Ct=t.value)==null?void 0:Ct.links)==null?void 0:Bt.colors)==null?void 0:Dt.label)==null?void 0:St.fill)||"#93A392"}}}}),e=l.computed(()=>{var i,f,o,a,g,h,w,p;return{static:((f=(i=t.value)==null?void 0:i.simulation)==null?void 0:f.static)||!1,force:{x:((a=(o=t.value)==null?void 0:o.simulation)==null?void 0:a.force.x)||Ae,y:((h=(g=t.value)==null?void 0:g.simulation)==null?void 0:h.force.y)||Me,charge:((p=(w=t.value)==null?void 0:w.simulation)==null?void 0:p.force.charge)||Ee}}}),r=l.computed(()=>{var i,f,o,a,g;return{size:((f=(i=t.value)==null?void 0:i.nodes)==null?void 0:f.size)||ze,font:{size:((g=(a=(o=t.value)==null?void 0:o.nodes)==null?void 0:a.font)==null?void 0:g.size)||Te}}}),s=l.computed(()=>{var i,f;return{width:((f=(i=t.value)==null?void 0:i.links)==null?void 0:f.width)||be}});return{simulation:e,theme:n,nodes:r,links:s}},Be=["viewBox"],De={id:"l-links",class:"links"},Se=["id","d","onClick","onTouchstartPassive"],Pe={id:"l-nodes",class:"nodes"},Le=["viewBox","width","height","x","y","title","onClick","onTouchendPassive","onMousedown","onTouchstartPassive","innerHTML"],Fe=["r","cx","cy","title","onClick","onTouchendPassive","onMousedown","onTouchstartPassive"],Re={id:"node-labels",class:"labels"},Oe=["x","y","font-size","stroke-width"],Ie=l.defineComponent({__name:"D3NetworkGraph",props:{nodes:{type:Array,required:!0},links:{type:Array,required:!0},options:{type:Object,default:void 0}},emits:["node-click","link-click"],setup(t,{emit:n}){const e=t;l.useCssVars(M=>({"27e19e93":l.unref(r).node.stroke,b95f0ec4:l.unref(r).node.fill,"021d058f":l.unref(r).node.selected.stroke||l.unref(r).node.stroke,"3f07cf6f":l.unref(r).node.selected.fill||l.unref(r).node.fill,"6ec0240c":l.unref(r).node.pinned.stroke||l.unref(r).node.stroke,"0c4fb46c":l.unref(r).node.pinned.fill||l.unref(r).node.fill,"0599b05a":l.unref(r).node.hover.stroke||l.unref(r).node.stroke,d8f0d08c:l.unref(r).node.hover.fill||l.unref(r).node.fill,"7e52f59b":l.unref(r).link.stroke,"26bbf1a6":l.unref(r).link.fill,d00f9630:l.unref(r).link.selected.stroke,"0b52a033":l.unref(r).link.selected.fill,fc642176:l.unref(r).node.hover.stroke,"3d1d4dd0":l.unref(r).node.hover.fill,"4b0efe20":l.unref(r).link.label.fill,"6a9f29d0":l.unref(r).node.label.fill}));const{theme:r,simulation:s,nodes:i,links:f}=Ce(l.toRef(()=>e.options)),o=l.ref(null),a=l.ref({width:100,height:100});X.useResizeObserver(o,M=>{const A=M[0];A.contentRect.width===a.value.width&&A.contentRect.height===a.value.height||(a.value={width:A.contentRect.width,height:A.contentRect.height})});const{simulation:g,graph:h}=ft(l.toRef(()=>e.nodes),l.toRef(()=>e.links),a,s),{dragStart:w,dragEnd:p,move:y}=Pt(g,l.toRef(()=>{var M;return((M=e.options)==null?void 0:M.draggables)||!1})),{label:m,getSize:u,getWidth:c,getClass:d,getHeight:x,getStyle:k}=Lt(i),{getPath:_,getAttrs:N,getClass:E,getStyle:T}=Ft(f);return(M,A)=>(l.openBlock(),l.createElementBlock("svg",{ref_key:"svg",ref:o,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMinYMin",viewBox:`0 0 ${a.value.width} ${a.value.height}`,class:"svg-container",onMouseup:A[0]||(A[0]=(...v)=>l.unref(p)&&l.unref(p)(...v)),onTouchendPassive:A[1]||(A[1]=(...v)=>l.unref(p)&&l.unref(p)(...v)),onTouchstartPassive:A[2]||(A[2]=async()=>{}),onMousemove:A[3]||(A[3]=(...v)=>l.unref(y)&&l.unref(y)(...v))},[l.createElementVNode("g",De,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(l.unref(h).links,v=>(l.openBlock(),l.createElementBlock("path",l.mergeProps({id:v.id,key:v.id,d:l.unref(_)(v)},l.unref(N)(v),{class:l.unref(E)(v.id),style:l.unref(T)(v),onClick:B=>n("link-click",B,v),onTouchstartPassive:B=>n("link-click",B,v)}),null,16,Se))),128))]),l.createElementVNode("g",Pe,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(l.unref(h).nodes.filter(v=>v.innerSVG),(v,B)=>(l.openBlock(),l.createElementBlock("svg",{key:B,viewBox:v.innerSVG.viewBox,width:l.unref(c)(v),height:l.unref(x)(v),x:(v.x||0)-l.unref(c)(v)/2,y:(v.y||0)-l.unref(x)(v)/2,style:l.normalizeStyle(l.unref(k)(v)),title:v.name,class:l.normalizeClass(l.unref(d)(v,["node-svg"])),onClick:z=>n("node-click",z,v),onTouchendPassive:z=>n("node-click",z,v),onMousedown:l.withModifiers(z=>l.unref(w)(z,B),["prevent"]),onTouchstartPassive:l.withModifiers(z=>l.unref(w)(z,B),["prevent"]),innerHTML:v.innerSVG.innerHtml},null,46,Le))),128)),(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(l.unref(h).nodes.filter(v=>!v.innerSVG),(v,B)=>(l.openBlock(),l.createElementBlock("circle",{key:B,r:l.unref(u)(v)/2,cx:v.x||0,cy:v.y||0,style:l.normalizeStyle(l.unref(k)(v)),title:v.name,class:l.normalizeClass(l.unref(d)(v)),onClick:z=>M.$emit("node-click",z,v),onTouchendPassive:z=>M.$emit("node-click",z,v),onMousedown:l.withModifiers(z=>l.unref(w)(z,B),["prevent"]),onTouchstartPassive:l.withModifiers(z=>l.unref(w)(z,B),["prevent"])},null,46,Fe))),128))]),l.createElementVNode("g",Re,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(t.nodes,v=>(l.openBlock(),l.createElementBlock("text",{key:v.id,class:"node-label",x:(v.x||0)+l.unref(u)(v)/2+l.unref(m).font.size/2,y:(v.y||0)+l.unref(m).offset.y,"font-size":l.unref(m).font.size,"stroke-width":l.unref(m).font.size/8},l.toDisplayString(v.name),9,Oe))),128))])],40,Be))}}),je="";S.D3NetworkGraph=Ie,S.useSimulation=ft,Object.defineProperty(S,Symbol.toStringTag,{value:"Module"})});
